
> ariadne@0.5.8 test
> npm run test --workspaces


> @ariadnejs/core@0.7.0 test
> vitest run


 RUN  v3.2.4 /Users/chuck/workspace/ariadne/packages/core

 ✓ src/index_single_file/semantic_index.python.test.ts (28 tests) 1314ms
 ❯ src/index_single_file/semantic_index.rust.test.ts (120 tests | 91 failed | 24 skipped) 1087ms
   × Semantic Index - Rust > Basic Structs and Enums > should parse struct definitions and implementations 9ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/basic_structs_and_enums.rs'
   × Semantic Index - Rust > Basic Structs and Enums > should distinguish between associated functions and methods 1ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/basic_structs_and_enums.rs'
   × Semantic Index - Rust > Traits and Generics > should parse trait definitions and implementations 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/traits_and_generics.rs'
   × Semantic Index - Rust > Traits and Generics > should parse generic types and constraints 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/traits_and_generics.rs'
   × Semantic Index - Rust > Traits and Generics > should parse trait implementations 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/traits_and_generics.rs'
   × Semantic Index - Rust > Functions and Closures > should parse function definitions 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
   × Semantic Index - Rust > Functions and Closures > should parse closures 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
   × Semantic Index - Rust > Functions and Closures > should parse function parameters and return types 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
   × Semantic Index - Rust > Functions and Closures > should parse const functions with modifiers 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
   × Semantic Index - Rust > Functions and Closures > should parse function pointer types 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
   × Semantic Index - Rust > Functions and Closures > should parse function trait objects (Fn, FnMut, FnOnce) 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
   × Semantic Index - Rust > Functions and Closures > should parse higher-order function calls 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
   × Semantic Index - Rust > Functions and Closures > should parse impl Trait functions with modifiers 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
   × Semantic Index - Rust > Functions and Closures > should parse advanced closure patterns 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
   × Semantic Index - Rust > Functions and Closures > should parse unsafe and generic const functions 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
   × Semantic Index - Rust > Functions and Closures > should comprehensively test function type ecosystem 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
   × Semantic Index - Rust > Modules and Visibility > should parse module declarations and visibility modifiers 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/modules_and_visibility.rs'
   × Semantic Index - Rust > Modules and Visibility > should parse use statements and imports 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/modules_and_visibility.rs'
   × Semantic Index - Rust > Modules and Visibility > should parse re-exports and pub use statements 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/modules_and_visibility.rs'
   × Semantic Index - Rust > Modules and Visibility > should comprehensively parse all module and visibility features 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_modules_and_visibility.rs'
   × Semantic Index - Rust > Modules and Visibility > should handle edge cases in module and visibility patterns 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_modules_and_visibility.rs'
   × Semantic Index - Rust > Modules and Visibility > should validate specific module system semantics 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_modules_and_visibility.rs'
   × Semantic Index - Rust > Modules and Visibility > should handle complex edge cases and corner cases 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/module_edge_cases.rs'
   × Semantic Index - Rust > Ownership and References > should parse lifetime annotations 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/ownership_and_patterns.rs'
   × Semantic Index - Rust > Ownership and References > should parse comprehensive ownership patterns 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/ownership_and_references.rs'
   × Semantic Index - Rust > Ownership and References > should parse reference types in function signatures 2ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/ownership_and_references.rs'
   × Semantic Index - Rust > Ownership and References > should parse Box smart pointers comprehensively 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/ownership_and_references.rs'
   × Semantic Index - Rust > Ownership and References > should parse Rc smart pointers with cloning 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/ownership_and_references.rs'
   × Semantic Index - Rust > Ownership and References > should parse RefCell interior mutability patterns 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/ownership_and_references.rs'
   × Semantic Index - Rust > Ownership and References > should parse Arc and Mutex thread-safety patterns 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/ownership_and_references.rs'
   × Semantic Index - Rust > Ownership and References > should parse pattern matching constructs 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/ownership_and_patterns.rs'
   × Semantic Index - Rust > Ownership and References > should comprehensively parse all pattern matching constructs 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_pattern_matching.rs'
   × Semantic Index - Rust > Ownership and References > should detect specific pattern matching constructs in detail 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_pattern_matching.rs'
   × Semantic Index - Rust > Pattern Matching Integration > should integrate pattern matching with control flow analysis 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_pattern_matching.rs'
   × Semantic Index - Rust > Pattern Matching Integration > should handle pattern variables in different scopes correctly 133ms
     → Cannot read properties of undefined (reading 'filter')
   ✓ Semantic Index - Rust > Method Calls and Type Resolution with Metadata > should track method calls with receivers 62ms
   ✓ Semantic Index - Rust > Method Calls and Type Resolution with Metadata > should handle chained method calls 62ms
   ✓ Semantic Index - Rust > Method Calls and Type Resolution with Metadata > should capture type references with type_info metadata 62ms
   ✓ Semantic Index - Rust > Method Calls and Type Resolution with Metadata > should capture field access chains with metadata 61ms
   ✓ Semantic Index - Rust > Method Calls and Type Resolution with Metadata > should capture struct instantiation with metadata 61ms
   × Semantic Index - Rust > Comprehensive Capture Coverage > should capture async functions and blocks 59ms
     → Cannot read properties of undefined (reading 'filter')
   × Semantic Index - Rust > Comprehensive Capture Coverage > should capture const generics and associated types 59ms
     → Cannot read properties of undefined (reading 'filter')
   × Semantic Index - Rust > Comprehensive Capture Coverage > should capture closures with parameters 60ms
     → Cannot read properties of undefined (reading 'filter')
   × Semantic Index - Rust > Comprehensive Capture Coverage > should capture macro definitions and invocations 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/macros_and_metaprogramming.rs'
   × Semantic Index - Rust > Comprehensive Capture Coverage > should comprehensively test macro system with full semantic index 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/macros_and_metaprogramming.rs'
   × Semantic Index - Rust > Comprehensive Capture Coverage > should capture extern crate and module declarations 59ms
     → Cannot read properties of undefined (reading 'filter')
   × Semantic Index - Rust > Comprehensive Capture Coverage > should capture try expressions and await 60ms
     → Cannot read properties of undefined (reading 'filter')
   × Semantic Index - Rust > Comprehensive Capture Coverage > should capture visibility modifiers 59ms
     → Cannot read properties of undefined (reading 'map')
   × Semantic Index - Rust > Comprehensive Capture Coverage > should capture unsafe blocks and functions 59ms
     → Cannot read properties of undefined (reading 'filter')
   × Semantic Index - Rust > Comprehensive Capture Coverage > should capture loop variables and iterators 151ms
     → Cannot read properties of undefined (reading 'filter')
   × Semantic Index - Rust > Type System Integration > should build type registry with Rust types 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/basic_structs_and_enums.rs'
   × Semantic Index - Rust > Type System Integration > should handle trait implementations in type system 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/traits_and_generics.rs'
   × Semantic Index - Rust > Advanced Generics and Lifetimes > should parse advanced generic structures with complex constraints 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
   × Semantic Index - Rust > Advanced Generics and Lifetimes > should parse const generics with complex parameters 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
   × Semantic Index - Rust > Advanced Generics and Lifetimes > should parse advanced lifetime structures with multiple parameters 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
   × Semantic Index - Rust > Advanced Generics and Lifetimes > should parse combined generic and lifetime structures 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
   × Semantic Index - Rust > Advanced Generics and Lifetimes > should parse where clauses and complex type constraints 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
   × Semantic Index - Rust > Advanced Generics and Lifetimes > should parse higher-ranked trait bounds (HRTB) 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
   × Semantic Index - Rust > Advanced Generics and Lifetimes > should parse associated types with complex bounds 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
   × Semantic Index - Rust > Advanced Generics and Lifetimes > should build comprehensive type registry with advanced generics 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
   × Semantic Index - Rust > Advanced Generics and Lifetimes > should handle generic trait implementations with complex bounds 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
   × Semantic Index - Rust > Comprehensive Trait System > should parse all trait definition types 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
   × Semantic Index - Rust > Comprehensive Trait System > should parse trait methods with proper modifiers 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
   × Semantic Index - Rust > Comprehensive Trait System > should parse associated types and constants 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
   × Semantic Index - Rust > Comprehensive Trait System > should parse trait implementations 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
   × Semantic Index - Rust > Comprehensive Trait System > should parse generic trait implementations 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
   × Semantic Index - Rust > Comprehensive Trait System > should handle complex trait bounds and where clauses 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
   × Semantic Index - Rust > Comprehensive Trait System > should parse supertrait relationships 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
   × Semantic Index - Rust > Comprehensive Trait System > should parse operator overloading through traits 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
   × Semantic Index - Rust > Comprehensive Trait System > should build comprehensive type registry with trait information 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
   × Semantic Index - Rust > Comprehensive Trait System > should handle associated type implementations 4ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
   × Semantic Index - Rust > Comprehensive Trait System > should handle trait objects and dynamic dispatch patterns 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture complex async functions from async_and_concurrency fixture 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture async trait methods and implementations 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture await expressions and async blocks 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture async closures and complex closure patterns 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture async closures from functions_and_closures fixture 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture tokio spawn and task creation patterns 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture channel and concurrency primitives 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture async macro patterns (select!, join!) 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture Pin and Future trait implementations 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture async recursion and boxed futures 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture stream processing and async iterators 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture timeout and cancellation patterns 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should comprehensively test async/await patterns from dedicated fixture 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture async blocks and async move blocks 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture await expressions with various patterns 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture try expressions (?) with await 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture async closures and complex closure patterns 1ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture Future trait bounds and return types 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture async trait implementations 14ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture complex nested async patterns 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture async function modifiers and visibility 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should capture comprehensive async/await integration patterns 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should handle async/await patterns from enhanced async_and_concurrency fixture 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
   × Semantic Index - Rust > Comprehensive Async/Await Support > should validate end-to-end async/await semantic index integration 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Const Generics Integration > should capture const generic parameters in comprehensive scenarios
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Const Generics Integration > should capture const generic constraints and bounds
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Const Generics Integration > should capture const functions with const generics
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Associated Types Integration > should capture associated types in trait definitions
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Associated Types Integration > should capture associated type implementations
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Associated Types Integration > should capture associated constants in traits
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Associated Types Integration > should handle generic associated types (GATs)
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Unsafe Blocks and Functions Integration > should capture unsafe functions with comprehensive patterns
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Unsafe Blocks and Functions Integration > should capture unsafe blocks within safe functions
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Unsafe Blocks and Functions Integration > should capture unsafe traits and implementations
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Unsafe Blocks and Functions Integration > should handle nested unsafe blocks and complex patterns
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Loop Constructs Integration > should capture different loop types with comprehensive patterns
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Loop Constructs Integration > should capture loop variables and destructuring patterns
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Loop Constructs Integration > should handle complex iterator patterns and method chains
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Loop Constructs Integration > should capture nested loops and labeled breaks
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Method Calls with Receivers Integration > should capture method calls with different receiver types
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Method Calls with Receivers Integration > should capture associated function calls vs instance methods
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Method Calls with Receivers Integration > should handle builder pattern and method chaining
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Method Calls with Receivers Integration > should capture complex method call patterns
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Method Calls with Receivers Integration > should handle generic method calls and transformations
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Complex Integration Scenarios > should handle combinations of advanced features
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Complex Integration Scenarios > should handle test data module with comprehensive patterns
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > Complex Integration Scenarios > should maintain semantic consistency across all advanced features
   ↓ Semantic Index - Rust > Advanced Rust Constructs Integration > should provide comprehensive end-to-end validation of all advanced features
 ❯ src/index_single_file/semantic_index.javascript.test.ts (26 tests | 4 failed | 2 skipped) 582ms
   × Semantic Index - JavaScript > JavaScript fixtures > should correctly parse basic_function.js 2ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/tests/fixtures/javascript/basic_function.js'
   × Semantic Index - JavaScript > JavaScript fixtures > should correctly parse class_and_methods.js 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/tests/fixtures/javascript/class_and_methods.js'
   × Semantic Index - JavaScript > JavaScript fixtures > should correctly parse imports_exports.js 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/tests/fixtures/javascript/imports_exports.js'
   × Semantic Index - JavaScript > JavaScript fixtures > should correctly parse all export types from imports_exports fixture 0ms
     → ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/tests/fixtures/javascript/imports_exports.js'
   ✓ Semantic Index - JavaScript > Import type detection in semantic index > should correctly create Import objects for all import types 54ms
   ✓ Semantic Index - JavaScript > Detailed capture parsing > should correctly parse function definitions and calls 26ms
   ✓ Semantic Index - JavaScript > Detailed capture parsing > should correctly parse static methods 26ms
   ✓ Semantic Index - JavaScript > Detailed capture parsing > should correctly parse method calls with receivers 28ms
   ✓ Semantic Index - JavaScript > Detailed capture parsing > should correctly capture constructor calls with target assignment 28ms
   ✓ Semantic Index - JavaScript > Detailed capture parsing > should populate receiver_location for method calls 28ms
   ↓ Semantic Index - JavaScript > Detailed capture parsing > should populate type_info for type references (JSDoc not supported)
   ✓ Semantic Index - JavaScript > Detailed capture parsing > should capture property access chains correctly 27ms
   ✓ Semantic Index - JavaScript > Detailed capture parsing > should populate appropriate context for function calls 28ms
   ↓ Semantic Index - JavaScript > Detailed capture parsing > should handle assignment metadata correctly (not currently implemented)
   ✓ Semantic Index - JavaScript > Comprehensive feature coverage > should correctly parse destructuring assignments 26ms
   ✓ Semantic Index - JavaScript > Comprehensive feature coverage > should correctly parse default and rest parameters 27ms
   ✓ Semantic Index - JavaScript > Comprehensive feature coverage > should correctly parse computed member access and bracket notation 39ms
   ✓ Semantic Index - JavaScript > Comprehensive feature coverage > should correctly parse generator functions 26ms
   ✓ Semantic Index - JavaScript > Comprehensive feature coverage > should correctly parse async/await functions 27ms
   ✓ Semantic Index - JavaScript > Comprehensive feature coverage > should correctly parse private class fields and methods 26ms
   ✓ Semantic Index - JavaScript > Comprehensive feature coverage > should correctly parse update expressions and assignments 26ms
   ✓ Semantic Index - JavaScript > Comprehensive feature coverage > should correctly parse catch clause parameters 26ms
   ✓ Semantic Index - JavaScript > Comprehensive feature coverage > should correctly parse for-in and for-of loop variables 26ms
   ✓ Semantic Index - JavaScript > Comprehensive feature coverage > should correctly parse template literals and tagged templates 26ms
   ✓ Semantic Index - JavaScript > Comprehensive feature coverage > should correctly parse spread operators in function calls 28ms
   ✓ Semantic Index - JavaScript > Comprehensive feature coverage > should correctly parse multiple variable declarations in one statement 26ms
 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts (32 tests | 20 failed) 27ms
   ✓ rust_builder > struct definitions > should process simple struct 1ms
   × rust_builder > struct definitions > should process generic struct 3ms
     → expected undefined to deeply equal [ 'T', 'U' ]
   ✓ rust_builder > struct definitions > should process tuple struct 0ms
   × rust_builder > struct definitions > should handle pub(crate) visibility 1ms
     → expected 'package-internal' to be 'package' // Object.is equality
   × rust_builder > enum definitions > should process simple enum 4ms
     → expected [ { …(3) }, { …(3) }, { …(3) } ] to deeply equal [ 'Success', 'Error', 'Pending' ]
   × rust_builder > enum definitions > should process generic enum 1ms
     → expected undefined to deeply equal [ 'T', 'E' ]
   × rust_builder > enum definitions > should process enum with complex variants 2ms
     → expected [ { …(3) }, { …(3) }, { …(3) } ] to deeply equal [ 'Quit', 'Move', 'Write' ]
   ✓ rust_builder > trait definitions > should process simple trait 1ms
   × rust_builder > trait definitions > should process generic trait 1ms
     → expected undefined to deeply equal [ 'Item' ]
   × rust_builder > function definitions > should process simple function 1ms
     → expected undefined to be 'i32' // Object.is equality
   × rust_builder > function definitions > should process async function 1ms
     → expected undefined to be true // Object.is equality
   × rust_builder > function definitions > should process const function 1ms
     → expected undefined to be true // Object.is equality
   × rust_builder > function definitions > should process unsafe function 1ms
     → expected undefined to be true // Object.is equality
   × rust_builder > function definitions > should process generic function 1ms
     → expected undefined to deeply equal [ 'T' ]
   ✓ rust_builder > method definitions > should process instance method 0ms
   ✓ rust_builder > method definitions > should process associated function (static method) 0ms
   ✓ rust_builder > variable and constant definitions > should process let binding 0ms
   × rust_builder > variable and constant definitions > should process const definition 1ms
     → expected undefined to be true // Object.is equality
   × rust_builder > variable and constant definitions > should process static variable 1ms
     → expected undefined to be true // Object.is equality
   × rust_builder > parameter definitions > should process function parameter 1ms
     → Target cannot be null or undefined.
   × rust_builder > parameter definitions > should process mutable parameter 1ms
     → Target cannot be null or undefined.
   ✓ rust_builder > parameter definitions > should process self parameter 0ms
   × rust_builder > type definitions > should process type alias 1ms
     → expected undefined to deeply equal [ 'T' ]
   ✓ rust_builder > type definitions > should process module definition 0ms
   ✓ rust_builder > visibility extraction > should detect pub visibility 0ms
   × rust_builder > visibility extraction > should detect pub(crate) visibility 0ms
     → expected 'package-internal' to be 'package' // Object.is equality
   × rust_builder > visibility extraction > should detect pub(super) visibility 1ms
     → expected 'file-private' to be 'parent-module' // Object.is equality
   ✓ rust_builder > visibility extraction > should default to file-private for no visibility 0ms
   × rust_builder > macro definitions > should process macro definition 1ms
     → expected undefined to be true // Object.is equality
   ✓ rust_builder > field definitions > should process struct fields 0ms
   × rust_builder > integration tests > should handle complex struct with multiple features 1ms
     → the given combination of arguments (undefined and string) is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a string
   ✓ rust_builder > integration tests > should handle trait with associated types and default methods 0ms
 ❯ src/index_single_file/query_code_tree/language_configs/python_builder.test.ts (28 tests | 14 failed) 14ms
   ✓ Python Builder Configuration > PYTHON_BUILDER_CONFIG > should export a valid LanguageBuilderConfig 0ms
   × Python Builder Configuration > PYTHON_BUILDER_CONFIG > should contain class definition capture mappings 1ms
     → expected false to be true // Object.is equality
   × Python Builder Configuration > PYTHON_BUILDER_CONFIG > should contain method definition capture mappings 0ms
     → expected false to be true // Object.is equality
   × Python Builder Configuration > PYTHON_BUILDER_CONFIG > should contain function definition capture mappings 1ms
     → expected false to be true // Object.is equality
   × Python Builder Configuration > PYTHON_BUILDER_CONFIG > should contain parameter definition capture mappings 0ms
     → expected false to be true // Object.is equality
   × Python Builder Configuration > PYTHON_BUILDER_CONFIG > should contain variable definition capture mappings 0ms
     → expected false to be true // Object.is equality
   × Python Builder Configuration > PYTHON_BUILDER_CONFIG > should contain property definition capture mappings 0ms
     → expected false to be true // Object.is equality
   ✓ Python Builder Configuration > PYTHON_BUILDER_CONFIG > should contain import capture mappings 0ms
   ✓ Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle a simple class definition 1ms
   ✓ Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle a method definition 0ms
   ✓ Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle a function definition 0ms
   ✓ Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle variable definitions 0ms
   × Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle import statements 1ms
     → expected [Function] to not throw an error but 'TypeError: Cannot read properties of …' was thrown
   ✓ Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle async functions 0ms
   ✓ Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle lambda functions 0ms
   ✓ Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle static methods 0ms
   ✓ Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle class methods 0ms
   ✓ Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle properties 0ms
   ✓ Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle class inheritance 0ms
   ✓ Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle typed parameters 0ms
   ✓ Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle *args and **kwargs 0ms
   × Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle from imports 1ms
     → expected [Function] to not throw an error but 'TypeError: Cannot read properties of …' was thrown
   × Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle aliased imports 1ms
     → expected [Function] to not throw an error but 'TypeError: Cannot read properties of …' was thrown
   × Python Builder Configuration > PYTHON_BUILDER_CONFIG > End-to-end integration tests > should build complete class definition with methods 1ms
     → actual value must be number or bigint, received "undefined"
   × Python Builder Configuration > PYTHON_BUILDER_CONFIG > End-to-end integration tests > should handle function with typed parameters 0ms
     → actual value must be number or bigint, received "undefined"
   × Python Builder Configuration > PYTHON_BUILDER_CONFIG > End-to-end integration tests > should distinguish between constants and variables by naming convention 0ms
     → defs1.find is not a function
   × Python Builder Configuration > PYTHON_BUILDER_CONFIG > End-to-end integration tests > should handle complex import patterns 2ms
     → Cannot read properties of undefined (reading 'file_path')
   × Python Builder Configuration > PYTHON_BUILDER_CONFIG > End-to-end integration tests > should handle private methods by naming convention 1ms
     → definitions.find is not a function
 ❯ src/resolve_references/function_resolution/scope_resolution.test.ts (46 tests | 1 failed) 10ms
   ✓ Scope Walker > resolve_symbol_in_scope_chain > should find symbol in current scope 0ms
   ✓ Scope Walker > resolve_symbol_in_scope_chain > should find symbol in parent scope 0ms
   ✓ Scope Walker > resolve_symbol_in_scope_chain > should respect max depth option 0ms
   ✓ Scope Walker > get_visible_symbols > should collect all symbols visible from a scope 0ms
   ✓ Scope Walker > find_enclosing_scope_of_type > should find nearest enclosing scope of specific type 0ms
   ✓ Scope Walker > find_enclosing_scope_of_type > should return null if no enclosing scope of type exists 0ms
   ✓ Scope Walker > is_scope_descendant > should correctly identify scope descendant relationships 0ms
   ✓ Scope Walker > collect_descendant_scopes > should collect all descendant scopes recursively 0ms
   ✓ Scope Walker > collect_descendant_scopes > should handle scopes with no children 0ms
   ✓ Edge Cases and Error Handling > Circular scope references > should handle circular parent references gracefully 0ms
   ✓ Edge Cases and Error Handling > Empty and null cases > should handle empty scope maps 0ms
   ✓ Edge Cases and Error Handling > Empty and null cases > should handle scopes with no symbols 0ms
   ✓ Edge Cases and Error Handling > Empty and null cases > should handle missing parent scopes 0ms
   ✓ Edge Cases and Error Handling > Boundary conditions > should handle exact boundary matches for location_in_scope 0ms
   ✓ Edge Cases and Error Handling > Boundary conditions > should handle overlapping scopes correctly 0ms
   ✓ Edge Cases and Error Handling > Symbol shadowing > should handle symbol shadowing correctly 0ms
   ✓ Edge Cases and Error Handling > Deep nesting > should handle deeply nested scopes 0ms
   ✓ Hoisting Handler > get_hoisting_rules > should return correct rules for JavaScript 0ms
   ✓ Hoisting Handler > get_hoisting_rules > should return correct rules for Python 0ms
   ✓ Hoisting Handler > get_hoisting_rules > should return correct rules for Rust 0ms
   ✓ Hoisting Handler > resolve_global_symbol > should resolve JavaScript built-in symbols 0ms
   ✓ Hoisting Handler > resolve_global_symbol > should resolve Python built-in symbols 0ms
   ✓ Hoisting Handler > resolve_global_symbol > should resolve Rust macro symbols 0ms
   ✓ Hoisting Handler > resolve_global_symbol > should return null for unknown symbols 0ms
   ✓ Hoisting Handler > resolve_global_symbol > should resolve TypeScript-specific globals 0ms
   ✓ Hoisting Handler > resolve_global_symbol > should resolve Node.js-specific globals 0ms
   ✓ Hoisting Handler > resolve_global_symbol > should resolve browser-specific globals 0ms
   ✓ Hoisting Handler > find_hoisted_symbol_in_scope > should find hoisted function declarations in scope 0ms
   × Hoisting Handler > find_hoisted_symbol_in_scope > should find hoisted var declarations 1ms
     → expected null to be 'var1' // Object.is equality
   ✓ Hoisting Handler > find_hoisted_symbol_in_scope > should not find non-hoisted symbols 0ms
   ✓ Hoisting Handler > find_hoisted_symbol_in_scope > should respect language-specific hoisting rules 0ms
   ✓ Hoisting Handler > hoisting behavior > should handle JavaScript function hoisting 0ms
   ✓ Hoisting Handler > hoisting behavior > should respect temporal dead zone for let/const 0ms
   ✓ Hoisting Handler > hoisting behavior > should handle var declaration hoisting 0ms
   ✓ Scope Utilities > location_in_scope > should correctly determine if location is within scope 0ms
   ✓ Scope Utilities > is_global_scope > should identify global and module scopes 0ms
   ✓ Scope Utilities > get_scope_chain > should return chain from scope to root 0ms
   ✓ Scope Utilities > get_scope_depth > should calculate correct scope depth 0ms
   ✓ Scope Utilities > find_common_ancestor_scope > should find common ancestor of two scopes 0ms
   ✓ Scope Utilities > is_symbol_accessible_from_scope > should determine if symbol is accessible 0ms
   ✓ Scope Utilities > find_containing_function_scope > should find the containing function scope 0ms
   ✓ Scope Utilities > get_function_scopes_in_file > should return all function scopes in a file 0ms
   ✓ Scope Utilities > find_scope_at_location > should find the most specific scope at a location 0ms
   ✓ Scope Utilities > analyze_scopes_at_location > should analyze all scopes at a location 0ms
   ✓ Scope Utilities > analyze_scopes_at_location > should handle location outside all scopes 0ms
   ✓ Scope Utilities > get_symbols_in_scope > should get all symbols in a scope 0ms
 ❯ src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts (12 tests | 12 failed) 9ms
   × Symbol Resolution Fixes - Integration Tests > Import Resolution Fixes > handles imports with proper source field structure 2ms
     → idx.functions is not iterable
   × Symbol Resolution Fixes - Integration Tests > Import Resolution Fixes > handles missing import sources gracefully 0ms
     → idx.functions is not iterable
   × Symbol Resolution Fixes - Integration Tests > Import Resolution Fixes > resolves cross-language imports correctly 1ms
     → idx.functions is not iterable
   × Symbol Resolution Fixes - Integration Tests > Export Structure Fixes > handles named exports with proper structure 0ms
     → idx.functions is not iterable
   × Symbol Resolution Fixes - Integration Tests > Export Structure Fixes > handles default exports correctly 0ms
     → idx.functions is not iterable
   × Symbol Resolution Fixes - Integration Tests > Type Resolution Fixes > handles return type hints correctly 0ms
     → idx.functions is not iterable
   × Symbol Resolution Fixes - Integration Tests > Type Resolution Fixes > handles class inheritance correctly 0ms
     → idx.functions is not iterable
   × Symbol Resolution Fixes - Integration Tests > Performance and Stability > handles moderate-sized projects efficiently 2ms
     → idx.functions is not iterable
   × Symbol Resolution Fixes - Integration Tests > Performance and Stability > handles error conditions gracefully 1ms
     → expected [Function] to not throw an error but 'TypeError: idx.functions is not itera…' was thrown
   × Symbol Resolution Fixes - Integration Tests > Performance and Stability > maintains consistency across multiple runs 1ms
     → idx.functions is not iterable
   × Symbol Resolution Fixes - Integration Tests > Integration Validation > validates all four phases work together 1ms
     → idx.functions is not iterable
   × Symbol Resolution Fixes - Integration Tests > Integration Validation > handles real-world scenarios 0ms
     → idx.functions is not iterable
 ❯ src/resolve_references/symbol_resolution.test.ts (17 tests | 15 failed | 1 skipped) 7ms
   ✓ Symbol Resolution Pipeline > Main Entry Point > should export resolve_symbols function 0ms
   × Symbol Resolution Pipeline > Main Entry Point > should return ResolvedSymbols with all phases 1ms
     → idx.functions is not iterable
   ↓ Symbol Resolution Pipeline > Phase 1: Import/Export Resolution > should resolve named imports
   × Symbol Resolution Pipeline > Phase 1: Import/Export Resolution > should resolve default imports 0ms
     → idx.functions is not iterable
   × Symbol Resolution Pipeline > Phase 1: Import/Export Resolution > should resolve namespace imports 0ms
     → idx.functions is not iterable
   × Symbol Resolution Pipeline > Phase 2: Function Call Resolution > should resolve function calls via lexical scope 1ms
     → idx.functions is not iterable
   × Symbol Resolution Pipeline > Phase 2: Function Call Resolution > should resolve imported function calls 1ms
     → idx.functions is not iterable
   × Symbol Resolution Pipeline > Phase 2: Function Call Resolution > should handle hoisted function declarations 0ms
     → idx.functions is not iterable
   × Symbol Resolution Pipeline > Phase 2: Function Call Resolution > should track unresolved function calls 0ms
     → idx.functions is not iterable
   × Symbol Resolution Pipeline > Phase 3: Type Resolution > should build type registry from local types 0ms
     → idx.functions is not iterable
   × Symbol Resolution Pipeline > Phase 3: Type Resolution > should resolve type inheritance 0ms
     → idx.functions is not iterable
   × Symbol Resolution Pipeline > Phase 3: Type Resolution > should track type flow 0ms
     → idx.functions is not iterable
   × Symbol Resolution Pipeline > Phase 4: Method/Constructor Resolution > should resolve method calls 1ms
     → idx.functions is not iterable
   × Symbol Resolution Pipeline > Phase 4: Method/Constructor Resolution > should resolve constructor calls 0ms
     → idx.functions is not iterable
   × Symbol Resolution Pipeline > Integration Tests > should integrate all four phases 0ms
     → idx.functions is not iterable
   × Symbol Resolution Pipeline > Integration Tests > should track unresolved references 0ms
     → idx.functions is not iterable
   × Symbol Resolution Pipeline > Integration Tests > should build reverse reference mapping 0ms
     → idx.functions is not iterable
 ❯ src/resolve_references/integration_tests/cross_language.test.ts (8 tests | 8 failed) 5ms
   × Cross-Language Symbol Resolution > JavaScript/TypeScript mixed projects > should handle JavaScript and TypeScript interoperability 1ms
     → idx.functions is not iterable
   × Cross-Language Symbol Resolution > JavaScript/TypeScript mixed projects > should handle CommonJS and ES6 module patterns 0ms
     → idx.functions is not iterable
   × Cross-Language Symbol Resolution > Language-specific features > should support all language features independently 1ms
     → idx.functions is not iterable
   × Cross-Language Symbol Resolution > Language-specific features > should handle JavaScript-specific patterns 0ms
     → idx.functions is not iterable
   × Cross-Language Symbol Resolution > Language-specific features > should handle TypeScript-specific patterns 0ms
     → idx.functions is not iterable
   × Cross-Language Symbol Resolution > Language-specific features > should handle Python-specific patterns 0ms
     → idx.functions is not iterable
   × Cross-Language Symbol Resolution > Language-specific features > should handle Rust-specific patterns 0ms
     → idx.functions is not iterable
   × Cross-Language Symbol Resolution > Cross-language import resolution > should resolve imports with language-specific path patterns 1ms
     → idx.functions is not iterable
 ❯ src/index_single_file/definitions/definition_builder.test.ts (9 tests | 9 failed) 6ms
   × DefinitionBuilder - Complex Assembly > should assemble class with multiple methods and properties 1ms
     → expected { functions: Map{}, …(8) } to have property 'length'
   × DefinitionBuilder - Complex Assembly > should assemble class with inheritance chain 0ms
     → Cannot read properties of undefined (reading 'extends')
   × DefinitionBuilder - Complex Assembly > should assemble function with multiple parameters 0ms
     → Cannot read properties of undefined (reading 'signature')
   × DefinitionBuilder - Complex Assembly > should assemble method with decorators 0ms
     → Cannot read properties of undefined (reading 'methods')
   × DefinitionBuilder - Complex Assembly > should assemble interface with method signatures and properties 0ms
     → Cannot read properties of undefined (reading 'extends')
   × DefinitionBuilder - Complex Assembly > should assemble enum with members 0ms
     → Cannot read properties of undefined (reading 'is_const')
   × DefinitionBuilder - Complex Assembly > should assemble namespace with exported symbols 1ms
     → Cannot read properties of undefined (reading 'kind')
   × DefinitionBuilder - Public API > should support all definition types through public API 1ms
     → expected { functions: Map{}, …(8) } to have property 'length'
   × DefinitionBuilder - Public API > should properly chain all builder methods 1ms
     → expected { functions: Map{}, …(8) } to have property 'length'
 ❯ src/index_single_file/scopes/scope_processor.test.ts (10 tests | 6 failed) 4ms
   ✓ scope_processor > process_scopes > should create root module scope for empty file 0ms
   × scope_processor > process_scopes > should create function scope nested in module 2ms
     → Cannot read properties of undefined (reading 'file_path')
   × scope_processor > process_scopes > should create nested scopes correctly 0ms
     → Cannot read properties of undefined (reading 'start_line')
   × scope_processor > process_scopes > should handle multiple sibling scopes 0ms
     → Cannot read properties of undefined (reading 'start_line')
   × scope_processor > process_scopes > should handle closures (functions within functions) 0ms
     → Cannot read properties of undefined (reading 'start_line')
   × scope_processor > process_scopes > should handle interface and enum scopes 0ms
     → Cannot read properties of undefined (reading 'start_line')
   ✓ scope_processor > create_processing_context > should compute depths correctly 0ms
   ✓ scope_processor > create_processing_context > should find correct scope for location 0ms
   ✓ scope_processor > create_processing_context > should handle overlapping scopes by choosing deepest 0ms
   × scope_processor > scope types > should handle all scope entity types correctly 0ms
     → Cannot read properties of undefined (reading 'file_path')
 ❯ src/resolve_references/integration_tests/end_to_end.test.ts (6 tests | 6 failed) 4ms
   × Complete Symbol Resolution Pipeline > Cross-file function call resolution > should resolve function calls through imports correctly 1ms
     → idx.functions is not iterable
   × Complete Symbol Resolution Pipeline > Method resolution through inheritance > should resolve inherited method calls correctly 1ms
     → idx.functions is not iterable
   × Complete Symbol Resolution Pipeline > Constructor call resolution > should resolve constructor calls with proper type context 0ms
     → idx.functions is not iterable
   × Complete Symbol Resolution Pipeline > Complete pipeline integration > should handle complex multi-file projects with all resolution types 1ms
     → idx.functions is not iterable
   × Complete Symbol Resolution Pipeline > Error handling and edge cases > should handle missing imports gracefully 0ms
     → idx.functions is not iterable
   × Complete Symbol Resolution Pipeline > Error handling and edge cases > should handle circular imports 0ms
     → idx.functions is not iterable
 ❯ src/trace_call_graph/detect_call_graph.test.ts (13 tests | 12 failed) 3ms
   × detect_call_graph > basic functionality > should detect call graph with single function 1ms
     → line is not defined
   × detect_call_graph > basic functionality > should detect call graph with multiple functions and references 0ms
     → line is not defined
   × detect_call_graph > basic functionality > should handle complex call chains 0ms
     → line is not defined
   ✓ detect_call_graph > edge cases > should handle empty resolved symbols 0ms
   × detect_call_graph > edge cases > should handle functions with no calls 0ms
     → line is not defined
   × detect_call_graph > edge cases > should throw error for missing resolved reference 0ms
     → line is not defined
   × detect_call_graph > edge cases > should handle multiple entry points 0ms
     → line is not defined
   × detect_call_graph > edge cases > should handle recursive function calls 0ms
     → line is not defined
   × detect_call_graph > edge cases > should identify recursive function as entry point when not called externally 0ms
     → line is not defined
   × detect_call_graph > edge cases > should handle mutual recursion 0ms
     → line is not defined
   × detect_call_graph > cross-file scenarios > should handle functions across multiple files 0ms
     → line is not defined
   × detect_call_graph > cross-file scenarios > should correctly identify multiple enclosed calls in same function 0ms
     → line is not defined
   × detect_call_graph > qualified names and namespaces > should handle qualified function names 0ms
     → line is not defined
 ❯ src/resolve_references/constructor_resolution.test.ts (9 tests | 9 failed) 3ms
   × Constructor Resolution > Cross-file constructor resolution > should resolve constructor calls to imported classes 1ms
     → line is not defined
   × Constructor Resolution > Cross-file constructor resolution > should handle multiple constructor calls to different imported classes 0ms
     → line is not defined
   × Constructor Resolution > Local constructor resolution > should resolve constructor calls to classes in the same file 0ms
     → line is not defined
   × Constructor Resolution > Local constructor resolution > should resolve constructor calls with both local and imported classes (current behavior: imports take priority) 0ms
     → line is not defined
   × Constructor Resolution > Edge cases and error handling > should handle constructor calls to non-existent classes gracefully 0ms
     → line is not defined
   × Constructor Resolution > Edge cases and error handling > should handle imports that don't exist 0ms
     → line is not defined
   × Constructor Resolution > Edge cases and error handling > should handle imported symbols that are not classes 0ms
     → line is not defined
   × Constructor Resolution > Edge cases and error handling > should handle empty constructor calls array 0ms
     → line is not defined
   × Constructor Resolution > Integration with other phases > should work correctly when constructor resolution is part of full pipeline 0ms
     → line is not defined
 ❯ src/resolve_references/function_resolution/function_resolution.updated_example.test.ts (5 tests | 3 failed) 2ms
   × Function Resolution with Mock Factories > Using Individual Mock Factories > should resolve simple function call 1ms
     → (0 , mock_import_resolution_map) is not a function
   × Function Resolution with Mock Factories > Using Pre-built Scenarios > should resolve function call using scenario factory 0ms
     → (0 , mock_import_resolution_map) is not a function
   ✓ Function Resolution with Mock Factories > Comparison: Old vs New Approach > demonstrates ReadonlyMap handling improvement 0ms
   × Function Resolution with Mock Factories > Built-in Function Resolution > should handle built-in functions with mock factories 0ms
     → (0 , mock_import_resolution_map) is not a function
   ✓ Function Resolution with Mock Factories > Benefits Demonstration > shows improved test readability and maintainability 0ms
 ❯ src/resolve_references/method_resolution_simple/heuristic_with_types.test.ts (3 tests | 3 failed) 2ms
   × Heuristic Resolution with Local Type Context > should resolve method using constructor type hint 1ms
     → expected null to be truthy
   × Heuristic Resolution with Local Type Context > should resolve method without type hints using file proximity 0ms
     → expected undefined to be 'method::::::getName' // Object.is equality
   × Heuristic Resolution with Local Type Context > should prioritize type hints over other strategies 0ms
     → expected undefined to be 'method::::::getName' // Object.is equality
 ❯ src/resolve_references/method_resolution_simple/heuristic_resolver_simple.test.ts (2 tests | 2 failed) 1ms
   × Heuristic Method Resolution (Simple) > should resolve unique method names directly 1ms
     → expected undefined to be 'method::::::getName' // Object.is equality
   × Heuristic Method Resolution (Simple) > should return null when multiple methods exist without disambiguation 0ms
     → expected null to be truthy
 ✓ src/index_single_file/semantic_index.typescript.test.ts (25 tests) 3951ms
 ✓ src/index_single_file/semantic_index.rust.metadata.test.ts (5 tests) 362ms
 ✓ src/index_single_file/query_code_tree/language_configs/javascript_metadata.test.ts (57 tests) 22ms
 ✓ src/resolve_references/method_resolution/method_resolution.test.ts (45 tests) 19ms
 ✓ src/resolve_references/import_resolution/language_handlers/javascript.test.ts (46 tests) 11ms
 ✓ src/resolve_references/import_resolution/import_resolution.comprehensive.test.ts (30 tests) 15ms
 ✓ src/index_single_file/query_code_tree/language_configs/rust_metadata.test.ts (93 tests) 18ms
 ✓ src/index_single_file/query_code_tree/language_configs/python_metadata.test.ts (69 tests) 13ms
 ✓ src/resolve_references/import_resolution/language_handlers/python.test.ts (40 tests) 17ms
 ✓ src/resolve_references/import_resolution/language_handlers/rust.test.ts (47 tests) 20ms
 ✓ src/resolve_references/import_resolution/language_handlers/integration.test.ts (9 tests) 10ms
 ✓ src/resolve_references/type_resolution/type_registry.test.ts (19 tests) 8ms
 ✓ src/index_single_file/references/reference_builder.test.ts (35 tests | 7 skipped) 7ms
 ✓ src/index_single_file/query_code_tree/language_configs/typescript_builder.test.ts (21 tests) 7ms
 ✓ src/resolve_references/type_resolution/type_registry_interfaces.test.ts (48 tests) 6ms
stderr | src/resolve_references/type_resolution/inheritance.test.ts > resolve_inheritance > Edge cases > should handle circular inheritance gracefully
Circular inheritance detected for type:class:A:file.ts:1:1

stderr | src/resolve_references/type_resolution/inheritance.test.ts > resolve_inheritance > Advanced inheritance patterns > should handle self-referential inheritance
Circular inheritance detected for type:class:SelfRef:file.ts:1:1

 ✓ src/resolve_references/type_resolution/inheritance.test.ts (17 tests) 6ms
 ✓ src/resolve_references/type_resolution/resolve_members.test.ts (21 tests) 7ms
 ✓ src/resolve_references/type_resolution/track_types.test.ts (21 tests) 4ms
 ✓ src/resolve_references/function_resolution/function_resolution.test.ts (16 tests) 4ms
 ✓ src/resolve_references/test_factories.test.ts (20 tests) 4ms
 ✓ src/resolve_references/type_resolution/type_flow.test.ts (13 tests) 2ms
 ✓ src/resolve_references/function_resolution/resolution_priority.test.ts (13 tests) 2ms
stderr | src/resolve_references/type_resolution/type_member_resolution.integration.test.ts > Type Member Resolution Integration > Error handling in integrated pipeline > should handle complex circular inheritance
Circular inheritance detected for type:class:A:test.ts:1:1

 ✓ src/resolve_references/type_resolution/type_member_resolution.integration.test.ts (6 tests) 2ms
 ✓ src/resolve_references/method_resolution/static_resolution.test.ts (19 tests) 2ms
 ✓ src/resolve_references/import_resolution/import_resolution.test.ts (10 tests) 2ms
 ✓ src/resolve_references/local_type_context/local_type_context.test.ts (3 tests) 1ms
 ↓ src/resolve_references/type_resolution_consolidated.test.ts (8 tests | 8 skipped)
 ↓ src/index_single_file/query_code_tree/query_loader.test.ts (76 tests | 76 skipped)

⎯⎯⎯⎯⎯⎯ Failed Suites 6 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Advanced Rust Constructs Integration
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_constructs_comprehensive.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:4636:29
    4634| 
    4635|     beforeAll(() => {
    4636|       advancedFixtureCode = readFileSync(
       |                             ^
    4637|         join(FIXTURES_DIR, "advanced_constructs_comprehensive.rs"),
    4638|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/221]⎯

 FAIL  src/resolve_references/rust_async_await_integration.test.ts [ src/resolve_references/rust_async_await_integration.test.ts ]
 FAIL  src/resolve_references/type_resolution/type_resolution.comprehensive.test.ts [ src/resolve_references/type_resolution/type_resolution.comprehensive.test.ts ]
 FAIL  src/resolve_references/type_resolution/type_resolution.test.ts [ src/resolve_references/type_resolution/type_resolution.test.ts ]
Error: Cannot find module '../../../index_single_file/capture_types' imported from '/Users/chuck/workspace/ariadne/packages/core/src/resolve_references/type_resolution/rust_types/pattern_matching.ts'
 ❯ src/resolve_references/type_resolution/rust_types/pattern_matching.ts:12:1
     10| import type { TypeResolutionMap } from "../../types";
     11| import type { NormalizedCapture } from "../../../index_single_file/cap…
     12| import {
       | ^
     13|   SemanticEntity,
     14|   SemanticCategory,

Caused by: Error: Failed to load url ../../../index_single_file/capture_types (resolved id: ../../../index_single_file/capture_types) in /Users/chuck/workspace/ariadne/packages/core/src/resolve_references/type_resolution/rust_types/pattern_matching.ts. Does the file exist?
 ❯ loadAndTransform ../../node_modules/vite/dist/node/chunks/dep-BHkUv4Z8.js:26444:33

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/221]⎯

 FAIL  src/resolve_references/method_resolution_simple/enhanced_method_resolution.test.ts [ src/resolve_references/method_resolution_simple/enhanced_method_resolution.test.ts ]
Error: Cannot find module '../../index_single_file/scope_tree' imported from '/Users/chuck/workspace/ariadne/packages/core/src/resolve_references/method_resolution_simple/enhanced_heuristic_resolver.ts'
 ❯ src/resolve_references/method_resolution_simple/enhanced_heuristic_resolver.ts:23:1
     21| } from "./enhanced_context";
     22| import { find_variable_type_enhanced } from "./enhanced_context";
     23| import { find_containing_scope } from "../../index_single_file/scope_t…
       | ^
     24| 
     25| /**

Caused by: Error: Failed to load url ../../index_single_file/scope_tree (resolved id: ../../index_single_file/scope_tree) in /Users/chuck/workspace/ariadne/packages/core/src/resolve_references/method_resolution_simple/enhanced_heuristic_resolver.ts. Does the file exist?
 ❯ loadAndTransform ../../node_modules/vite/dist/node/chunks/dep-BHkUv4Z8.js:26444:33

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/javascript_builder.test.ts [ src/index_single_file/query_code_tree/language_configs/javascript_builder.test.ts ]
Error: Cannot find module '../reference_builder' imported from '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/query_code_tree/language_configs/javascript_builder.test.ts'
 ❯ src/index_single_file/query_code_tree/language_configs/javascript_builder.test.ts:16:1
     14| } from "../../scopes/scope_processor";
     15| import type { Location, ScopeId, FilePath, SymbolName } from "@ariadne…
     16| import { ReferenceBuilder } from "../reference_builder";
       | ^
     17| import { JAVASCRIPT_METADATA_EXTRACTORS } from "./javascript_metadata";
     18| 

Caused by: Error: Failed to load url ../reference_builder (resolved id: ../reference_builder) in /Users/chuck/workspace/ariadne/packages/core/src/index_single_file/query_code_tree/language_configs/javascript_builder.test.ts. Does the file exist?
 ❯ loadAndTransform ../../node_modules/vite/dist/node/chunks/dep-BHkUv4Z8.js:26444:33

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/221]⎯


⎯⎯⎯⎯⎯⎯ Failed Tests 215 ⎯⎯⎯⎯⎯⎯

 FAIL  src/index_single_file/semantic_index.javascript.test.ts > Semantic Index - JavaScript > JavaScript fixtures > should correctly parse basic_function.js
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/tests/fixtures/javascript/basic_function.js'
 ❯ src/index_single_file/semantic_index.javascript.test.ts:52:22
     50|     for (const fixture of javascript_fixtures) {
     51|       it(`should correctly parse ${fixture}`, () => {
     52|         const code = readFileSync(
       |                      ^
     53|           join(FIXTURES_DIR, "javascript", fixture),
     54|           "utf8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/221]⎯

 FAIL  src/index_single_file/semantic_index.javascript.test.ts > Semantic Index - JavaScript > JavaScript fixtures > should correctly parse class_and_methods.js
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/tests/fixtures/javascript/class_and_methods.js'
 ❯ src/index_single_file/semantic_index.javascript.test.ts:52:22
     50|     for (const fixture of javascript_fixtures) {
     51|       it(`should correctly parse ${fixture}`, () => {
     52|         const code = readFileSync(
       |                      ^
     53|           join(FIXTURES_DIR, "javascript", fixture),
     54|           "utf8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/221]⎯

 FAIL  src/index_single_file/semantic_index.javascript.test.ts > Semantic Index - JavaScript > JavaScript fixtures > should correctly parse imports_exports.js
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/tests/fixtures/javascript/imports_exports.js'
 ❯ src/index_single_file/semantic_index.javascript.test.ts:52:22
     50|     for (const fixture of javascript_fixtures) {
     51|       it(`should correctly parse ${fixture}`, () => {
     52|         const code = readFileSync(
       |                      ^
     53|           join(FIXTURES_DIR, "javascript", fixture),
     54|           "utf8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/221]⎯

 FAIL  src/index_single_file/semantic_index.javascript.test.ts > Semantic Index - JavaScript > JavaScript fixtures > should correctly parse all export types from imports_exports fixture
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/tests/fixtures/javascript/imports_exports.js'
 ❯ src/index_single_file/semantic_index.javascript.test.ts:156:20
    154|     it("should correctly parse all export types from imports_exports f…
    155|       const { build_semantic_index } = await import("./semantic_index"…
    156|       const code = readFileSync(
       |                    ^
    157|         join(FIXTURES_DIR, "javascript", "imports_exports.js"),
    158|         "utf8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[8/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Basic Structs and Enums > should parse struct definitions and implementations
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/basic_structs_and_enums.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:34:20
     32|   describe("Basic Structs and Enums", () => {
     33|     it("should parse struct definitions and implementations", () => {
     34|       const code = readFileSync(
       |                    ^
     35|         join(FIXTURES_DIR, "basic_structs_and_enums.rs"),
     36|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[9/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Basic Structs and Enums > should distinguish between associated functions and methods
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/basic_structs_and_enums.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:87:20
     85| 
     86|     it("should distinguish between associated functions and methods", …
     87|       const code = readFileSync(
       |                    ^
     88|         join(FIXTURES_DIR, "basic_structs_and_enums.rs"),
     89|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[10/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Traits and Generics > should parse trait definitions and implementations
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/traits_and_generics.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:118:20
    116|   describe("Traits and Generics", () => {
    117|     it("should parse trait definitions and implementations", () => {
    118|       const code = readFileSync(
       |                    ^
    119|         join(FIXTURES_DIR, "traits_and_generics.rs"),
    120|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[11/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Traits and Generics > should parse generic types and constraints
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/traits_and_generics.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:154:20
    152| 
    153|     it("should parse generic types and constraints", () => {
    154|       const code = readFileSync(
       |                    ^
    155|         join(FIXTURES_DIR, "traits_and_generics.rs"),
    156|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[12/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Traits and Generics > should parse trait implementations
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/traits_and_generics.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:185:20
    183| 
    184|     it("should parse trait implementations", () => {
    185|       const code = readFileSync(
       |                    ^
    186|         join(FIXTURES_DIR, "traits_and_generics.rs"),
    187|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[13/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Functions and Closures > should parse function definitions
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:206:20
    204|   describe("Functions and Closures", () => {
    205|     it("should parse function definitions", () => {
    206|       const code = readFileSync(
       |                    ^
    207|         join(FIXTURES_DIR, "functions_and_closures.rs"),
    208|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[14/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Functions and Closures > should parse closures
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:237:20
    235| 
    236|     it("should parse closures", () => {
    237|       const code = readFileSync(
       |                    ^
    238|         join(FIXTURES_DIR, "functions_and_closures.rs"),
    239|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[15/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Functions and Closures > should parse function parameters and return types
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:263:20
    261| 
    262|     it("should parse function parameters and return types", () => {
    263|       const code = readFileSync(
       |                    ^
    264|         join(FIXTURES_DIR, "functions_and_closures.rs"),
    265|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[16/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Functions and Closures > should parse const functions with modifiers
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:286:20
    284| 
    285|     it("should parse const functions with modifiers", () => {
    286|       const code = readFileSync(
       |                    ^
    287|         join(FIXTURES_DIR, "functions_and_closures.rs"),
    288|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[17/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Functions and Closures > should parse function pointer types
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:314:20
    312| 
    313|     it("should parse function pointer types", () => {
    314|       const code = readFileSync(
       |                    ^
    315|         join(FIXTURES_DIR, "functions_and_closures.rs"),
    316|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[18/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Functions and Closures > should parse function trait objects (Fn, FnMut, FnOnce)
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:348:20
    346| 
    347|     it("should parse function trait objects (Fn, FnMut, FnOnce)", () =…
    348|       const code = readFileSync(
       |                    ^
    349|         join(FIXTURES_DIR, "functions_and_closures.rs"),
    350|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[19/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Functions and Closures > should parse higher-order function calls
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:382:20
    380| 
    381|     it("should parse higher-order function calls", () => {
    382|       const code = readFileSync(
       |                    ^
    383|         join(FIXTURES_DIR, "functions_and_closures.rs"),
    384|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[20/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Functions and Closures > should parse impl Trait functions with modifiers
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:430:20
    428| 
    429|     it("should parse impl Trait functions with modifiers", () => {
    430|       const code = readFileSync(
       |                    ^
    431|         join(FIXTURES_DIR, "functions_and_closures.rs"),
    432|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[21/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Functions and Closures > should parse advanced closure patterns
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:477:20
    475| 
    476|     it("should parse advanced closure patterns", () => {
    477|       const code = readFileSync(
       |                    ^
    478|         join(FIXTURES_DIR, "functions_and_closures.rs"),
    479|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[22/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Functions and Closures > should parse unsafe and generic const functions
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:514:20
    512| 
    513|     it("should parse unsafe and generic const functions", () => {
    514|       const code = readFileSync(
       |                    ^
    515|         join(FIXTURES_DIR, "functions_and_closures.rs"),
    516|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[23/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Functions and Closures > should comprehensively test function type ecosystem
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:548:20
    546| 
    547|     it("should comprehensively test function type ecosystem", () => {
    548|       const code = readFileSync(
       |                    ^
    549|         join(FIXTURES_DIR, "functions_and_closures.rs"),
    550|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[24/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Modules and Visibility > should parse module declarations and visibility modifiers
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/modules_and_visibility.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:583:20
    581|   describe("Modules and Visibility", () => {
    582|     it("should parse module declarations and visibility modifiers", ()…
    583|       const code = readFileSync(
       |                    ^
    584|         join(FIXTURES_DIR, "modules_and_visibility.rs"),
    585|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[25/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Modules and Visibility > should parse use statements and imports
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/modules_and_visibility.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:615:20
    613| 
    614|     it("should parse use statements and imports", () => {
    615|       const code = readFileSync(
       |                    ^
    616|         join(FIXTURES_DIR, "modules_and_visibility.rs"),
    617|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[26/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Modules and Visibility > should parse re-exports and pub use statements
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/modules_and_visibility.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:642:20
    640| 
    641|     it("should parse re-exports and pub use statements", () => {
    642|       const code = readFileSync(
       |                    ^
    643|         join(FIXTURES_DIR, "modules_and_visibility.rs"),
    644|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[27/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Modules and Visibility > should comprehensively parse all module and visibility features
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_modules_and_visibility.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:705:20
    703| 
    704|     it("should comprehensively parse all module and visibility feature…
    705|       const code = readFileSync(
       |                    ^
    706|         join(FIXTURES_DIR, "comprehensive_modules_and_visibility.rs"),
    707|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[28/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Modules and Visibility > should handle edge cases in module and visibility patterns
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_modules_and_visibility.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:1007:20
    1005| 
    1006|     it("should handle edge cases in module and visibility patterns", (…
    1007|       const code = readFileSync(
       |                    ^
    1008|         join(FIXTURES_DIR, "comprehensive_modules_and_visibility.rs"),
    1009|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[29/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Modules and Visibility > should validate specific module system semantics
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_modules_and_visibility.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:1136:20
    1134| 
    1135|     it("should validate specific module system semantics", () => {
    1136|       const code = readFileSync(
       |                    ^
    1137|         join(FIXTURES_DIR, "comprehensive_modules_and_visibility.rs"),
    1138|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[30/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Modules and Visibility > should handle complex edge cases and corner cases
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/module_edge_cases.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:1272:20
    1270| 
    1271|     it("should handle complex edge cases and corner cases", () => {
    1272|       const code = readFileSync(
       |                    ^
    1273|         join(FIXTURES_DIR, "module_edge_cases.rs"),
    1274|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[31/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Ownership and References > should parse lifetime annotations
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/ownership_and_patterns.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:1529:20
    1527|   describe("Ownership and References", () => {
    1528|     it("should parse lifetime annotations", () => {
    1529|       const code = readFileSync(
       |                    ^
    1530|         join(FIXTURES_DIR, "ownership_and_patterns.rs"),
    1531|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[32/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Ownership and References > should parse comprehensive ownership patterns
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/ownership_and_references.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:1555:20
    1553| 
    1554|     it("should parse comprehensive ownership patterns", () => {
    1555|       const code = readFileSync(
       |                    ^
    1556|         join(FIXTURES_DIR, "ownership_and_references.rs"),
    1557|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[33/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Ownership and References > should parse reference types in function signatures
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/ownership_and_references.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:1591:20
    1589| 
    1590|     it("should parse reference types in function signatures", () => {
    1591|       const code = readFileSync(
       |                    ^
    1592|         join(FIXTURES_DIR, "ownership_and_references.rs"),
    1593|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[34/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Ownership and References > should parse Box smart pointers comprehensively
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/ownership_and_references.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:1619:20
    1617| 
    1618|     it("should parse Box smart pointers comprehensively", () => {
    1619|       const code = readFileSync(
       |                    ^
    1620|         join(FIXTURES_DIR, "ownership_and_references.rs"),
    1621|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[35/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Ownership and References > should parse Rc smart pointers with cloning
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/ownership_and_references.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:1657:20
    1655| 
    1656|     it("should parse Rc smart pointers with cloning", () => {
    1657|       const code = readFileSync(
       |                    ^
    1658|         join(FIXTURES_DIR, "ownership_and_references.rs"),
    1659|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[36/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Ownership and References > should parse RefCell interior mutability patterns
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/ownership_and_references.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:1689:20
    1687| 
    1688|     it("should parse RefCell interior mutability patterns", () => {
    1689|       const code = readFileSync(
       |                    ^
    1690|         join(FIXTURES_DIR, "ownership_and_references.rs"),
    1691|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[37/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Ownership and References > should parse Arc and Mutex thread-safety patterns
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/ownership_and_references.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:1718:20
    1716| 
    1717|     it("should parse Arc and Mutex thread-safety patterns", () => {
    1718|       const code = readFileSync(
       |                    ^
    1719|         join(FIXTURES_DIR, "ownership_and_references.rs"),
    1720|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[38/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Ownership and References > should parse pattern matching constructs
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/ownership_and_patterns.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:1759:20
    1757| 
    1758|     it("should parse pattern matching constructs", () => {
    1759|       const code = readFileSync(
       |                    ^
    1760|         join(FIXTURES_DIR, "ownership_and_patterns.rs"),
    1761|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[39/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Ownership and References > should comprehensively parse all pattern matching constructs
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_pattern_matching.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:1786:20
    1784| 
    1785|     it("should comprehensively parse all pattern matching constructs",…
    1786|       const code = readFileSync(
       |                    ^
    1787|         join(FIXTURES_DIR, "comprehensive_pattern_matching.rs"),
    1788|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[40/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Ownership and References > should detect specific pattern matching constructs in detail
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_pattern_matching.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:1852:20
    1850| 
    1851|     it("should detect specific pattern matching constructs in detail",…
    1852|       const code = readFileSync(
       |                    ^
    1853|         join(FIXTURES_DIR, "comprehensive_pattern_matching.rs"),
    1854|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[41/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Pattern Matching Integration > should integrate pattern matching with control flow analysis
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_pattern_matching.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:1923:20
    1921|   describe("Pattern Matching Integration", () => {
    1922|     it("should integrate pattern matching with control flow analysis",…
    1923|       const code = readFileSync(
       |                    ^
    1924|         join(FIXTURES_DIR, "comprehensive_pattern_matching.rs"),
    1925|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[42/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Pattern Matching Integration > should handle pattern variables in different scopes correctly
TypeError: Cannot read properties of undefined (reading 'filter')
 ❯ src/index_single_file/semantic_index.rust.test.ts:1991:44
    1989| 
    1990|       // Check any variables are captured (pattern expressions show as…
    1991|       const allVars = captures.definitions.filter(
       |                                            ^
    1992|         (d) => d.entity === SemanticEntity.VARIABLE
    1993|       );

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[43/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Capture Coverage > should capture async functions and blocks
TypeError: Cannot read properties of undefined (reading 'filter')
 ❯ src/index_single_file/semantic_index.rust.test.ts:2328:45
    2326|       );
    2327| 
    2328|       const asyncFuncs = parsed.definitions.filter(
       |                                             ^
    2329|         (d) => d.entity === SemanticEntity.FUNCTION && d.modifiers?.is…
    2330|       );

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[44/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Capture Coverage > should capture const generics and associated types
TypeError: Cannot read properties of undefined (reading 'filter')
 ❯ src/index_single_file/semantic_index.rust.test.ts:2362:46
    2360|       );
    2361| 
    2362|       const constParams = parsed.definitions.filter(
       |                                              ^
    2363|         (d) => d.entity === SemanticEntity.CONSTANT && d.symbol_name =…
    2364|       );

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[45/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Capture Coverage > should capture closures with parameters
TypeError: Cannot read properties of undefined (reading 'filter')
 ❯ src/index_single_file/semantic_index.rust.test.ts:2386:43
    2384|       );
    2385| 
    2386|       const closures = parsed.definitions.filter(
       |                                           ^
    2387|         (d) => d.entity === SemanticEntity.FUNCTION && d.modifiers?.is…
    2388|       );

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[46/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Capture Coverage > should capture macro definitions and invocations
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/macros_and_metaprogramming.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:2402:20
    2400| 
    2401|     it("should capture macro definitions and invocations", () => {
    2402|       const code = readFileSync(
       |                    ^
    2403|         join(FIXTURES_DIR, "macros_and_metaprogramming.rs"),
    2404|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[47/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Capture Coverage > should comprehensively test macro system with full semantic index
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/macros_and_metaprogramming.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:2494:20
    2492| 
    2493|     it("should comprehensively test macro system with full semantic in…
    2494|       const code = readFileSync(
       |                    ^
    2495|         join(FIXTURES_DIR, "macros_and_metaprogramming.rs"),
    2496|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[48/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Capture Coverage > should capture extern crate and module declarations
TypeError: Cannot read properties of undefined (reading 'filter')
 ❯ src/index_single_file/semantic_index.rust.test.ts:2584:43
    2582|       );
    2583| 
    2584|       const externCrates = parsed.imports.filter(
       |                                           ^
    2585|         (i) => i.symbol_name === "serde" || i.symbol_name === "regex"
    2586|       );

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[49/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Capture Coverage > should capture try expressions and await
TypeError: Cannot read properties of undefined (reading 'filter')
 ❯ src/index_single_file/semantic_index.rust.test.ts:2610:42
    2608|       );
    2609| 
    2610|       const tryExprs = parsed.references.filter((r) =>
       |                                          ^
    2611|         // r.modifiers?.is_try || // TODO: is_try not yet implemented
    2612|         r.symbol_name?.includes("?")

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[50/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Capture Coverage > should capture visibility modifiers
TypeError: Cannot read properties of undefined (reading 'map')
 ❯ src/index_single_file/semantic_index.rust.test.ts:2640:50
    2638| 
    2639|       // Since is_exported modifier isn't being set properly, check if…
    2640|       const exportNames = new Set(parsed.exports.map((e) => e.symbol_n…
       |                                                  ^
    2641|       const publicDefs = parsed.definitions.filter(
    2642|         (d) => d.modifiers?.is_exported || exportNames.has(d.symbol_na…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[51/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Capture Coverage > should capture unsafe blocks and functions
TypeError: Cannot read properties of undefined (reading 'filter')
 ❯ src/index_single_file/semantic_index.rust.test.ts:2666:46
    2664|       );
    2665| 
    2666|       const unsafeFuncs = parsed.definitions.filter(
       |                                              ^
    2667|         (d) => d.entity === SemanticEntity.FUNCTION && d.modifiers?.is…
    2668|       );

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[52/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Capture Coverage > should capture loop variables and iterators
TypeError: Cannot read properties of undefined (reading 'filter')
 ❯ src/index_single_file/semantic_index.rust.test.ts:2702:43
    2700|       );
    2701| 
    2702|       const loopVars = parsed.definitions.filter(
       |                                           ^
    2703|         (d) =>
    2704|           d.entity === SemanticEntity.VARIABLE &&

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[53/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Type System Integration > should build type registry with Rust types
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/basic_structs_and_enums.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:2724:20
    2722|   describe("Type System Integration", () => {
    2723|     it("should build type registry with Rust types", () => {
    2724|       const code = readFileSync(
       |                    ^
    2725|         join(FIXTURES_DIR, "basic_structs_and_enums.rs"),
    2726|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[54/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Type System Integration > should handle trait implementations in type system
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/traits_and_generics.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:2761:20
    2759| 
    2760|     it("should handle trait implementations in type system", () => {
    2761|       const code = readFileSync(
       |                    ^
    2762|         join(FIXTURES_DIR, "traits_and_generics.rs"),
    2763|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[55/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Advanced Generics and Lifetimes > should parse advanced generic structures with complex constraints
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:2787:20
    2785|   describe("Advanced Generics and Lifetimes", () => {
    2786|     it("should parse advanced generic structures with complex constrai…
    2787|       const code = readFileSync(
       |                    ^
    2788|         join(FIXTURES_DIR, "advanced_generics_lifetimes.rs"),
    2789|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[56/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Advanced Generics and Lifetimes > should parse const generics with complex parameters
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:2853:20
    2851| 
    2852|     it("should parse const generics with complex parameters", () => {
    2853|       const code = readFileSync(
       |                    ^
    2854|         join(FIXTURES_DIR, "advanced_generics_lifetimes.rs"),
    2855|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[57/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Advanced Generics and Lifetimes > should parse advanced lifetime structures with multiple parameters
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:2882:20
    2880| 
    2881|     it("should parse advanced lifetime structures with multiple parame…
    2882|       const code = readFileSync(
       |                    ^
    2883|         join(FIXTURES_DIR, "advanced_generics_lifetimes.rs"),
    2884|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[58/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Advanced Generics and Lifetimes > should parse combined generic and lifetime structures
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:2923:20
    2921| 
    2922|     it("should parse combined generic and lifetime structures", () => {
    2923|       const code = readFileSync(
       |                    ^
    2924|         join(FIXTURES_DIR, "advanced_generics_lifetimes.rs"),
    2925|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[59/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Advanced Generics and Lifetimes > should parse where clauses and complex type constraints
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:2962:20
    2960| 
    2961|     it("should parse where clauses and complex type constraints", () =…
    2962|       const code = readFileSync(
       |                    ^
    2963|         join(FIXTURES_DIR, "advanced_generics_lifetimes.rs"),
    2964|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[60/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Advanced Generics and Lifetimes > should parse higher-ranked trait bounds (HRTB)
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:2998:20
    2996| 
    2997|     it("should parse higher-ranked trait bounds (HRTB)", () => {
    2998|       const code = readFileSync(
       |                    ^
    2999|         join(FIXTURES_DIR, "advanced_generics_lifetimes.rs"),
    3000|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[61/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Advanced Generics and Lifetimes > should parse associated types with complex bounds
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3028:20
    3026| 
    3027|     it("should parse associated types with complex bounds", () => {
    3028|       const code = readFileSync(
       |                    ^
    3029|         join(FIXTURES_DIR, "advanced_generics_lifetimes.rs"),
    3030|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[62/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Advanced Generics and Lifetimes > should build comprehensive type registry with advanced generics
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3059:20
    3057| 
    3058|     it("should build comprehensive type registry with advanced generic…
    3059|       const code = readFileSync(
       |                    ^
    3060|         join(FIXTURES_DIR, "advanced_generics_lifetimes.rs"),
    3061|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[63/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Advanced Generics and Lifetimes > should handle generic trait implementations with complex bounds
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/advanced_generics_lifetimes.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3100:20
    3098| 
    3099|     it("should handle generic trait implementations with complex bound…
    3100|       const code = readFileSync(
       |                    ^
    3101|         join(FIXTURES_DIR, "advanced_generics_lifetimes.rs"),
    3102|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[64/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Trait System > should parse all trait definition types
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3127:20
    3125|   describe("Comprehensive Trait System", () => {
    3126|     it("should parse all trait definition types", () => {
    3127|       const code = readFileSync(
       |                    ^
    3128|         join(FIXTURES_DIR, "comprehensive_trait_system.rs"),
    3129|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[65/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Trait System > should parse trait methods with proper modifiers
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3172:20
    3170| 
    3171|     it("should parse trait methods with proper modifiers", () => {
    3172|       const code = readFileSync(
       |                    ^
    3173|         join(FIXTURES_DIR, "comprehensive_trait_system.rs"),
    3174|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[66/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Trait System > should parse associated types and constants
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3228:20
    3226| 
    3227|     it("should parse associated types and constants", () => {
    3228|       const code = readFileSync(
       |                    ^
    3229|         join(FIXTURES_DIR, "comprehensive_trait_system.rs"),
    3230|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[67/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Trait System > should parse trait implementations
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3283:20
    3281| 
    3282|     it("should parse trait implementations", () => {
    3283|       const code = readFileSync(
       |                    ^
    3284|         join(FIXTURES_DIR, "comprehensive_trait_system.rs"),
    3285|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[68/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Trait System > should parse generic trait implementations
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3322:20
    3320| 
    3321|     it("should parse generic trait implementations", () => {
    3322|       const code = readFileSync(
       |                    ^
    3323|         join(FIXTURES_DIR, "comprehensive_trait_system.rs"),
    3324|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[69/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Trait System > should handle complex trait bounds and where clauses
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3352:20
    3350| 
    3351|     it("should handle complex trait bounds and where clauses", () => {
    3352|       const code = readFileSync(
       |                    ^
    3353|         join(FIXTURES_DIR, "comprehensive_trait_system.rs"),
    3354|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[70/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Trait System > should parse supertrait relationships
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3384:20
    3382| 
    3383|     it("should parse supertrait relationships", () => {
    3384|       const code = readFileSync(
       |                    ^
    3385|         join(FIXTURES_DIR, "comprehensive_trait_system.rs"),
    3386|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[71/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Trait System > should parse operator overloading through traits
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3421:20
    3419| 
    3420|     it("should parse operator overloading through traits", () => {
    3421|       const code = readFileSync(
       |                    ^
    3422|         join(FIXTURES_DIR, "comprehensive_trait_system.rs"),
    3423|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[72/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Trait System > should build comprehensive type registry with trait information
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3452:20
    3450| 
    3451|     it("should build comprehensive type registry with trait informatio…
    3452|       const code = readFileSync(
       |                    ^
    3453|         join(FIXTURES_DIR, "comprehensive_trait_system.rs"),
    3454|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[73/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Trait System > should handle associated type implementations
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3486:20
    3484| 
    3485|     it("should handle associated type implementations", () => {
    3486|       const code = readFileSync(
       |                    ^
    3487|         join(FIXTURES_DIR, "comprehensive_trait_system.rs"),
    3488|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[74/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Trait System > should handle trait objects and dynamic dispatch patterns
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/comprehensive_trait_system.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3517:20
    3515| 
    3516|     it("should handle trait objects and dynamic dispatch patterns", ()…
    3517|       const code = readFileSync(
       |                    ^
    3518|         join(FIXTURES_DIR, "comprehensive_trait_system.rs"),
    3519|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[75/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture complex async functions from async_and_concurrency fixture
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3550:20
    3548|   describe("Comprehensive Async/Await Support", () => {
    3549|     it("should capture complex async functions from async_and_concurre…
    3550|       const code = readFileSync(
       |                    ^
    3551|         join(FIXTURES_DIR, "async_and_concurrency.rs"),
    3552|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[76/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture async trait methods and implementations
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3599:20
    3597| 
    3598|     it("should capture async trait methods and implementations", () =>…
    3599|       const code = readFileSync(
       |                    ^
    3600|         join(FIXTURES_DIR, "async_and_concurrency.rs"),
    3601|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[77/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture await expressions and async blocks
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3629:20
    3627| 
    3628|     it("should capture await expressions and async blocks", () => {
    3629|       const code = readFileSync(
       |                    ^
    3630|         join(FIXTURES_DIR, "async_and_concurrency.rs"),
    3631|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[78/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture async closures and complex closure patterns
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3661:20
    3659| 
    3660|     it("should capture async closures and complex closure patterns", (…
    3661|       const code = readFileSync(
       |                    ^
    3662|         join(FIXTURES_DIR, "async_and_concurrency.rs"),
    3663|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[79/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture async closures from functions_and_closures fixture
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/functions_and_closures.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3689:20
    3687| 
    3688|     it("should capture async closures from functions_and_closures fixt…
    3689|       const code = readFileSync(
       |                    ^
    3690|         join(FIXTURES_DIR, "functions_and_closures.rs"),
    3691|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[80/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture tokio spawn and task creation patterns
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3729:20
    3727| 
    3728|     it("should capture tokio spawn and task creation patterns", () => {
    3729|       const code = readFileSync(
       |                    ^
    3730|         join(FIXTURES_DIR, "async_and_concurrency.rs"),
    3731|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[81/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture channel and concurrency primitives
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3757:20
    3755| 
    3756|     it("should capture channel and concurrency primitives", () => {
    3757|       const code = readFileSync(
       |                    ^
    3758|         join(FIXTURES_DIR, "async_and_concurrency.rs"),
    3759|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[82/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture async macro patterns (select!, join!)
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3782:20
    3780| 
    3781|     it("should capture async macro patterns (select!, join!)", () => {
    3782|       const code = readFileSync(
       |                    ^
    3783|         join(FIXTURES_DIR, "async_and_concurrency.rs"),
    3784|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[83/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture Pin and Future trait implementations
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3811:20
    3809| 
    3810|     it("should capture Pin and Future trait implementations", () => {
    3811|       const code = readFileSync(
       |                    ^
    3812|         join(FIXTURES_DIR, "async_and_concurrency.rs"),
    3813|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[84/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture async recursion and boxed futures
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3844:20
    3842| 
    3843|     it("should capture async recursion and boxed futures", () => {
    3844|       const code = readFileSync(
       |                    ^
    3845|         join(FIXTURES_DIR, "async_and_concurrency.rs"),
    3846|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[85/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture stream processing and async iterators
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3871:20
    3869| 
    3870|     it("should capture stream processing and async iterators", () => {
    3871|       const code = readFileSync(
       |                    ^
    3872|         join(FIXTURES_DIR, "async_and_concurrency.rs"),
    3873|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[86/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture timeout and cancellation patterns
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3900:20
    3898| 
    3899|     it("should capture timeout and cancellation patterns", () => {
    3900|       const code = readFileSync(
       |                    ^
    3901|         join(FIXTURES_DIR, "async_and_concurrency.rs"),
    3902|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[87/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should comprehensively test async/await patterns from dedicated fixture
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:3932:20
    3930| 
    3931|     it("should comprehensively test async/await patterns from dedicate…
    3932|       const code = readFileSync(
       |                    ^
    3933|         join(FIXTURES_DIR, "async_patterns_comprehensive.rs"),
    3934|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[88/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture async blocks and async move blocks
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:4009:20
    4007| 
    4008|     it("should capture async blocks and async move blocks", () => {
    4009|       const code = readFileSync(
       |                    ^
    4010|         join(FIXTURES_DIR, "async_patterns_comprehensive.rs"),
    4011|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[89/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture await expressions with various patterns
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:4037:20
    4035| 
    4036|     it("should capture await expressions with various patterns", () =>…
    4037|       const code = readFileSync(
       |                    ^
    4038|         join(FIXTURES_DIR, "async_patterns_comprehensive.rs"),
    4039|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[90/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture try expressions (?) with await
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:4071:20
    4069| 
    4070|     it("should capture try expressions (?) with await", () => {
    4071|       const code = readFileSync(
       |                    ^
    4072|         join(FIXTURES_DIR, "async_patterns_comprehensive.rs"),
    4073|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[91/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture async closures and complex closure patterns
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:4105:20
    4103| 
    4104|     it("should capture async closures and complex closure patterns", (…
    4105|       const code = readFileSync(
       |                    ^
    4106|         join(FIXTURES_DIR, "async_patterns_comprehensive.rs"),
    4107|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[92/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture Future trait bounds and return types
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:4140:20
    4138| 
    4139|     it("should capture Future trait bounds and return types", () => {
    4140|       const code = readFileSync(
       |                    ^
    4141|         join(FIXTURES_DIR, "async_patterns_comprehensive.rs"),
    4142|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[93/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture async trait implementations
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:4183:20
    4181| 
    4182|     it("should capture async trait implementations", () => {
    4183|       const code = readFileSync(
       |                    ^
    4184|         join(FIXTURES_DIR, "async_patterns_comprehensive.rs"),
    4185|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[94/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture complex nested async patterns
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:4225:20
    4223| 
    4224|     it("should capture complex nested async patterns", () => {
    4225|       const code = readFileSync(
       |                    ^
    4226|         join(FIXTURES_DIR, "async_patterns_comprehensive.rs"),
    4227|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[95/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture async function modifiers and visibility
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:4264:20
    4262| 
    4263|     it("should capture async function modifiers and visibility", () =>…
    4264|       const code = readFileSync(
       |                    ^
    4265|         join(FIXTURES_DIR, "async_patterns_comprehensive.rs"),
    4266|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[96/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should capture comprehensive async/await integration patterns
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_patterns_comprehensive.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:4311:20
    4309| 
    4310|     it("should capture comprehensive async/await integration patterns"…
    4311|       const code = readFileSync(
       |                    ^
    4312|         join(FIXTURES_DIR, "async_patterns_comprehensive.rs"),
    4313|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[97/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should handle async/await patterns from enhanced async_and_concurrency fixture
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:4378:20
    4376| 
    4377|     it("should handle async/await patterns from enhanced async_and_con…
    4378|       const code = readFileSync(
       |                    ^
    4379|         join(FIXTURES_DIR, "async_and_concurrency.rs"),
    4380|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[98/221]⎯

 FAIL  src/index_single_file/semantic_index.rust.test.ts > Semantic Index - Rust > Comprehensive Async/Await Support > should validate end-to-end async/await semantic index integration
Error: ENOENT: no such file or directory, open '/Users/chuck/workspace/ariadne/packages/core/src/index_single_file/parse_and_query_code/fixtures/rust/async_and_concurrency.rs'
 ❯ src/index_single_file/semantic_index.rust.test.ts:4515:21
    4513|     it("should validate end-to-end async/await semantic index integrat…
    4514|       // Test both fixtures together to ensure comprehensive coverage
    4515|       const code1 = readFileSync(
       |                     ^
    4516|         join(FIXTURES_DIR, "async_and_concurrency.rs"),
    4517|         "utf-8"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[99/221]⎯

 FAIL  src/resolve_references/constructor_resolution.test.ts > Constructor Resolution > Cross-file constructor resolution > should resolve constructor calls to imported classes
ReferenceError: line is not defined
 ❯ create_location src/resolve_references/constructor_resolution.test.ts:34:17
     32|   return {
     33|     file_path,
     34|     start_line: line,
       |                 ^
     35|     start_column: column,
     36|     end_line: line,
 ❯ src/resolve_references/constructor_resolution.test.ts:98:33

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[100/221]⎯

 FAIL  src/resolve_references/constructor_resolution.test.ts > Constructor Resolution > Cross-file constructor resolution > should handle multiple constructor calls to different imported classes
ReferenceError: line is not defined
 ❯ create_location src/resolve_references/constructor_resolution.test.ts:34:17
     32|   return {
     33|     file_path,
     34|     start_line: line,
       |                 ^
     35|     start_column: column,
     36|     end_line: line,
 ❯ src/resolve_references/constructor_resolution.test.ts:200:31

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[101/221]⎯

 FAIL  src/resolve_references/constructor_resolution.test.ts > Constructor Resolution > Local constructor resolution > should resolve constructor calls to classes in the same file
ReferenceError: line is not defined
 ❯ create_location src/resolve_references/constructor_resolution.test.ts:34:17
     32|   return {
     33|     file_path,
     34|     start_line: line,
       |                 ^
     35|     start_column: column,
     36|     end_line: line,
 ❯ src/resolve_references/constructor_resolution.test.ts:350:30

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[102/221]⎯

 FAIL  src/resolve_references/constructor_resolution.test.ts > Constructor Resolution > Local constructor resolution > should resolve constructor calls with both local and imported classes (current behavior: imports take priority)
ReferenceError: line is not defined
 ❯ create_location src/resolve_references/constructor_resolution.test.ts:34:17
     32|   return {
     33|     file_path,
     34|     start_line: line,
       |                 ^
     35|     start_column: column,
     36|     end_line: line,
 ❯ src/resolve_references/constructor_resolution.test.ts:406:39

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[103/221]⎯

 FAIL  src/resolve_references/constructor_resolution.test.ts > Constructor Resolution > Edge cases and error handling > should handle constructor calls to non-existent classes gracefully
ReferenceError: line is not defined
 ❯ create_location src/resolve_references/constructor_resolution.test.ts:34:17
     32|   return {
     33|     file_path,
     34|     start_line: line,
       |                 ^
     35|     start_column: column,
     36|     end_line: line,
 ❯ src/resolve_references/constructor_resolution.test.ts:512:41

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[104/221]⎯

 FAIL  src/resolve_references/constructor_resolution.test.ts > Constructor Resolution > Edge cases and error handling > should handle imports that don't exist
ReferenceError: line is not defined
 ❯ create_location src/resolve_references/constructor_resolution.test.ts:34:17
     32|   return {
     33|     file_path,
     34|     start_line: line,
       |                 ^
     35|     start_column: column,
     36|     end_line: line,
 ❯ src/resolve_references/constructor_resolution.test.ts:545:41

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[105/221]⎯

 FAIL  src/resolve_references/constructor_resolution.test.ts > Constructor Resolution > Edge cases and error handling > should handle imported symbols that are not classes
ReferenceError: line is not defined
 ❯ create_location src/resolve_references/constructor_resolution.test.ts:34:17
     32|   return {
     33|     file_path,
     34|     start_line: line,
       |                 ^
     35|     start_column: column,
     36|     end_line: line,
 ❯ src/resolve_references/constructor_resolution.test.ts:592:29

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[106/221]⎯

 FAIL  src/resolve_references/constructor_resolution.test.ts > Constructor Resolution > Edge cases and error handling > should handle empty constructor calls array
ReferenceError: line is not defined
 ❯ create_location src/resolve_references/constructor_resolution.test.ts:34:17
     32|   return {
     33|     file_path,
     34|     start_line: line,
       |                 ^
     35|     start_column: column,
     36|     end_line: line,
 ❯ create_test_index src/resolve_references/constructor_resolution.test.ts:56:15
 ❯ src/resolve_references/constructor_resolution.test.ts:673:21

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[107/221]⎯

 FAIL  src/resolve_references/constructor_resolution.test.ts > Constructor Resolution > Integration with other phases > should work correctly when constructor resolution is part of full pipeline
ReferenceError: line is not defined
 ❯ create_location src/resolve_references/constructor_resolution.test.ts:34:17
     32|   return {
     33|     file_path,
     34|     start_line: line,
       |                 ^
     35|     start_column: column,
     36|     end_line: line,
 ❯ src/resolve_references/constructor_resolution.test.ts:696:30

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[108/221]⎯

 FAIL  src/resolve_references/symbol_resolution.test.ts > Symbol Resolution Pipeline > Main Entry Point > should return ResolvedSymbols with all phases
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/symbol_resolution.test.ts:141:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[109/221]⎯

 FAIL  src/resolve_references/symbol_resolution.test.ts > Symbol Resolution Pipeline > Phase 1: Import/Export Resolution > should resolve default imports
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/symbol_resolution.test.ts:268:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[110/221]⎯

 FAIL  src/resolve_references/symbol_resolution.test.ts > Symbol Resolution Pipeline > Phase 1: Import/Export Resolution > should resolve namespace imports
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/symbol_resolution.test.ts:319:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[111/221]⎯

 FAIL  src/resolve_references/symbol_resolution.test.ts > Symbol Resolution Pipeline > Phase 2: Function Call Resolution > should resolve function calls via lexical scope
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/symbol_resolution.test.ts:361:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[112/221]⎯

 FAIL  src/resolve_references/symbol_resolution.test.ts > Symbol Resolution Pipeline > Phase 2: Function Call Resolution > should resolve imported function calls
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/symbol_resolution.test.ts:440:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[113/221]⎯

 FAIL  src/resolve_references/symbol_resolution.test.ts > Symbol Resolution Pipeline > Phase 2: Function Call Resolution > should handle hoisted function declarations
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/symbol_resolution.test.ts:482:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[114/221]⎯

 FAIL  src/resolve_references/symbol_resolution.test.ts > Symbol Resolution Pipeline > Phase 2: Function Call Resolution > should track unresolved function calls
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/symbol_resolution.test.ts:500:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[115/221]⎯

 FAIL  src/resolve_references/symbol_resolution.test.ts > Symbol Resolution Pipeline > Phase 3: Type Resolution > should build type registry from local types
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/symbol_resolution.test.ts:529:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[116/221]⎯

 FAIL  src/resolve_references/symbol_resolution.test.ts > Symbol Resolution Pipeline > Phase 3: Type Resolution > should resolve type inheritance
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/symbol_resolution.test.ts:560:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[117/221]⎯

 FAIL  src/resolve_references/symbol_resolution.test.ts > Symbol Resolution Pipeline > Phase 3: Type Resolution > should track type flow
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/symbol_resolution.test.ts:600:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[118/221]⎯

 FAIL  src/resolve_references/symbol_resolution.test.ts > Symbol Resolution Pipeline > Phase 4: Method/Constructor Resolution > should resolve method calls
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/symbol_resolution.test.ts:662:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[119/221]⎯

 FAIL  src/resolve_references/symbol_resolution.test.ts > Symbol Resolution Pipeline > Phase 4: Method/Constructor Resolution > should resolve constructor calls
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/symbol_resolution.test.ts:705:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[120/221]⎯

 FAIL  src/resolve_references/symbol_resolution.test.ts > Symbol Resolution Pipeline > Integration Tests > should integrate all four phases
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/symbol_resolution.test.ts:838:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[121/221]⎯

 FAIL  src/resolve_references/symbol_resolution.test.ts > Symbol Resolution Pipeline > Integration Tests > should track unresolved references
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/symbol_resolution.test.ts:862:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[122/221]⎯

 FAIL  src/resolve_references/symbol_resolution.test.ts > Symbol Resolution Pipeline > Integration Tests > should build reverse reference mapping
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/symbol_resolution.test.ts:910:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[123/221]⎯

 FAIL  src/trace_call_graph/detect_call_graph.test.ts > detect_call_graph > basic functionality > should detect call graph with single function
ReferenceError: line is not defined
 ❯ create_location src/trace_call_graph/detect_call_graph.test.ts:28:17
     26|   ): Location => ({
     27|     file_path: file as FilePath,
     28|     start_line: line,
       |                 ^
     29|     start_column: column,
     30|     end_line: line,
 ❯ src/trace_call_graph/detect_call_graph.test.ts:62:28

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[124/221]⎯

 FAIL  src/trace_call_graph/detect_call_graph.test.ts > detect_call_graph > basic functionality > should detect call graph with multiple functions and references
ReferenceError: line is not defined
 ❯ create_location src/trace_call_graph/detect_call_graph.test.ts:28:17
     26|   ): Location => ({
     27|     file_path: file as FilePath,
     28|     start_line: line,
       |                 ^
     29|     start_column: column,
     30|     end_line: line,
 ❯ src/trace_call_graph/detect_call_graph.test.ts:87:29

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[125/221]⎯

 FAIL  src/trace_call_graph/detect_call_graph.test.ts > detect_call_graph > basic functionality > should handle complex call chains
ReferenceError: line is not defined
 ❯ create_location src/trace_call_graph/detect_call_graph.test.ts:28:17
     26|   ): Location => ({
     27|     file_path: file as FilePath,
     28|     start_line: line,
       |                 ^
     29|     start_column: column,
     30|     end_line: line,
 ❯ src/trace_call_graph/detect_call_graph.test.ts:135:28

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[126/221]⎯

 FAIL  src/trace_call_graph/detect_call_graph.test.ts > detect_call_graph > edge cases > should handle functions with no calls
ReferenceError: line is not defined
 ❯ create_location src/trace_call_graph/detect_call_graph.test.ts:28:17
     26|   ): Location => ({
     27|     file_path: file as FilePath,
     28|     start_line: line,
       |                 ^
     29|     start_column: column,
     30|     end_line: line,
 ❯ src/trace_call_graph/detect_call_graph.test.ts:220:29

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[127/221]⎯

 FAIL  src/trace_call_graph/detect_call_graph.test.ts > detect_call_graph > edge cases > should throw error for missing resolved reference
ReferenceError: line is not defined
 ❯ create_location src/trace_call_graph/detect_call_graph.test.ts:28:17
     26|   ): Location => ({
     27|     file_path: file as FilePath,
     28|     start_line: line,
       |                 ^
     29|     start_column: column,
     30|     end_line: line,
 ❯ src/trace_call_graph/detect_call_graph.test.ts:243:28

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[128/221]⎯

 FAIL  src/trace_call_graph/detect_call_graph.test.ts > detect_call_graph > edge cases > should handle multiple entry points
ReferenceError: line is not defined
 ❯ create_location src/trace_call_graph/detect_call_graph.test.ts:28:17
     26|   ): Location => ({
     27|     file_path: file as FilePath,
     28|     start_line: line,
       |                 ^
     29|     start_column: column,
     30|     end_line: line,
 ❯ src/trace_call_graph/detect_call_graph.test.ts:266:28

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[129/221]⎯

 FAIL  src/trace_call_graph/detect_call_graph.test.ts > detect_call_graph > edge cases > should handle recursive function calls
ReferenceError: line is not defined
 ❯ create_location src/trace_call_graph/detect_call_graph.test.ts:28:17
     26|   ): Location => ({
     27|     file_path: file as FilePath,
     28|     start_line: line,
       |                 ^
     29|     start_column: column,
     30|     end_line: line,
 ❯ src/trace_call_graph/detect_call_graph.test.ts:301:33

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[130/221]⎯

 FAIL  src/trace_call_graph/detect_call_graph.test.ts > detect_call_graph > edge cases > should identify recursive function as entry point when not called externally
ReferenceError: line is not defined
 ❯ create_location src/trace_call_graph/detect_call_graph.test.ts:28:17
     26|   ): Location => ({
     27|     file_path: file as FilePath,
     28|     start_line: line,
       |                 ^
     29|     start_column: column,
     30|     end_line: line,
 ❯ src/trace_call_graph/detect_call_graph.test.ts:339:28

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[131/221]⎯

 FAIL  src/trace_call_graph/detect_call_graph.test.ts > detect_call_graph > edge cases > should handle mutual recursion
ReferenceError: line is not defined
 ❯ create_location src/trace_call_graph/detect_call_graph.test.ts:28:17
     26|   ): Location => ({
     27|     file_path: file as FilePath,
     28|     start_line: line,
       |                 ^
     29|     start_column: column,
     30|     end_line: line,
 ❯ src/trace_call_graph/detect_call_graph.test.ts:386:29

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[132/221]⎯

 FAIL  src/trace_call_graph/detect_call_graph.test.ts > detect_call_graph > cross-file scenarios > should handle functions across multiple files
ReferenceError: line is not defined
 ❯ create_location src/trace_call_graph/detect_call_graph.test.ts:28:17
     26|   ): Location => ({
     27|     file_path: file as FilePath,
     28|     start_line: line,
       |                 ^
     29|     start_column: column,
     30|     end_line: line,
 ❯ src/trace_call_graph/detect_call_graph.test.ts:438:32

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[133/221]⎯

 FAIL  src/trace_call_graph/detect_call_graph.test.ts > detect_call_graph > cross-file scenarios > should correctly identify multiple enclosed calls in same function
ReferenceError: line is not defined
 ❯ create_location src/trace_call_graph/detect_call_graph.test.ts:28:17
     26|   ): Location => ({
     27|     file_path: file as FilePath,
     28|     start_line: line,
       |                 ^
     29|     start_column: column,
     30|     end_line: line,
 ❯ src/trace_call_graph/detect_call_graph.test.ts:507:28

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[134/221]⎯

 FAIL  src/trace_call_graph/detect_call_graph.test.ts > detect_call_graph > qualified names and namespaces > should handle qualified function names
ReferenceError: line is not defined
 ❯ create_location src/trace_call_graph/detect_call_graph.test.ts:28:17
     26|   ): Location => ({
     27|     file_path: file as FilePath,
     28|     start_line: line,
       |                 ^
     29|     start_column: column,
     30|     end_line: line,
 ❯ src/trace_call_graph/detect_call_graph.test.ts:546:30

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[135/221]⎯

 FAIL  src/index_single_file/definitions/definition_builder.test.ts > DefinitionBuilder - Complex Assembly > should assemble class with multiple methods and properties
AssertionError: expected { functions: Map{}, …(8) } to have property 'length'
 ❯ src/index_single_file/definitions/definition_builder.test.ts:149:25
    147| 
    148|     const definitions = builder.build();
    149|     expect(definitions).toHaveLength(1);
       |                         ^
    150| 
    151|     const class_def = definitions[0] as ClassDefinition;

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[136/221]⎯

 FAIL  src/index_single_file/definitions/definition_builder.test.ts > DefinitionBuilder - Complex Assembly > should assemble class with inheritance chain
TypeError: Cannot read properties of undefined (reading 'extends')
 ❯ src/index_single_file/definitions/definition_builder.test.ts:179:22
    177|     const class_def = definitions[0] as ClassDefinition;
    178| 
    179|     expect(class_def.extends).toEqual(["ParentClass"]);
       |                      ^
    180|   });
    181| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[137/221]⎯

 FAIL  src/index_single_file/definitions/definition_builder.test.ts > DefinitionBuilder - Complex Assembly > should assemble function with multiple parameters
TypeError: Cannot read properties of undefined (reading 'signature')
 ❯ src/index_single_file/definitions/definition_builder.test.ts:228:21
    226|     const func_def = definitions[0] as FunctionDefinition;
    227| 
    228|     expect(func_def.signature.parameters).toHaveLength(3);
       |                     ^
    229| 
    230|     const param1 = func_def.signature.parameters[0];

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[138/221]⎯

 FAIL  src/index_single_file/definitions/definition_builder.test.ts > DefinitionBuilder - Complex Assembly > should assemble method with decorators
TypeError: Cannot read properties of undefined (reading 'methods')
 ❯ src/index_single_file/definitions/definition_builder.test.ts:277:30
    275|     const definitions = builder.build();
    276|     const class_def = definitions[0] as ClassDefinition;
    277|     const method = class_def.methods[0];
       |                              ^
    278| 
    279|     expect(method.decorators).toHaveLength(2);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[139/221]⎯

 FAIL  src/index_single_file/definitions/definition_builder.test.ts > DefinitionBuilder - Complex Assembly > should assemble interface with method signatures and properties
TypeError: Cannot read properties of undefined (reading 'extends')
 ❯ src/index_single_file/definitions/definition_builder.test.ts:322:26
    320|     const interface_def = definitions[0] as InterfaceDefinition;
    321| 
    322|     expect(interface_def.extends).toEqual(["IBase"]);
       |                          ^
    323|     expect(interface_def.methods).toHaveLength(1);
    324|     expect(interface_def.properties).toHaveLength(1);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[140/221]⎯

 FAIL  src/index_single_file/definitions/definition_builder.test.ts > DefinitionBuilder - Complex Assembly > should assemble enum with members
TypeError: Cannot read properties of undefined (reading 'is_const')
 ❯ src/index_single_file/definitions/definition_builder.test.ts:367:21
    365|     const enum_def = definitions[0] as EnumDefinition;
    366| 
    367|     expect(enum_def.is_const).toBe(true);
       |                     ^
    368|     expect(enum_def.members).toHaveLength(3);
    369|     expect(enum_def.members[0].value).toBe(1);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[141/221]⎯

 FAIL  src/index_single_file/definitions/definition_builder.test.ts > DefinitionBuilder - Complex Assembly > should assemble namespace with exported symbols
TypeError: Cannot read properties of undefined (reading 'kind')
 ❯ src/index_single_file/definitions/definition_builder.test.ts:391:26
    389|     const namespace_def = definitions[0] as NamespaceDefinition;
    390| 
    391|     expect(namespace_def.kind).toBe("namespace");
       |                          ^
    392|     expect(namespace_def.name).toBe("MyNamespace");
    393|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[142/221]⎯

 FAIL  src/index_single_file/definitions/definition_builder.test.ts > DefinitionBuilder - Public API > should support all definition types through public API
AssertionError: expected { functions: Map{}, …(8) } to have property 'length'
 ❯ src/index_single_file/definitions/definition_builder.test.ts:475:25
    473| 
    474|     const definitions = builder.build();
    475|     expect(definitions).toHaveLength(8);
       |                         ^
    476| 
    477|     const kinds = definitions.map((d) => d.kind).sort();

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[143/221]⎯

 FAIL  src/index_single_file/definitions/definition_builder.test.ts > DefinitionBuilder - Public API > should properly chain all builder methods
AssertionError: expected { functions: Map{}, …(8) } to have property 'length'
 ❯ src/index_single_file/definitions/definition_builder.test.ts:535:25
    533| 
    534|     const definitions = builder.build();
    535|     expect(definitions).toHaveLength(1);
       |                         ^
    536| 
    537|     const class_def = definitions[0] as ClassDefinition;

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[144/221]⎯

 FAIL  src/index_single_file/scopes/scope_processor.test.ts > scope_processor > process_scopes > should create function scope nested in module
TypeError: Cannot read properties of undefined (reading 'file_path')
 ❯ scope_string ../types/src/scopes.ts:109:20
 ❯ create_scope_id src/index_single_file/scopes/scope_processor.ts:309:10
    307|  */
    308| function create_scope_id(type: ScopeType, location: Location): ScopeId…
    309|   return scope_string({ type, location });
       |          ^
    310| }
    311| 
 ❯ process_scopes src/index_single_file/scopes/scope_processor.ts:173:22
 ❯ src/index_single_file/scopes/scope_processor.test.ts:78:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[145/221]⎯

 FAIL  src/index_single_file/scopes/scope_processor.test.ts > scope_processor > process_scopes > should create nested scopes correctly
TypeError: Cannot read properties of undefined (reading 'start_line')
 ❯ compare_locations src/index_single_file/scopes/scope_processor.ts:340:9
    338|  */
    339| function compare_locations(a: Location, b: Location): number {
    340|   if (a.start_line !== b.start_line) return a.start_line - b.start_lin…
       |         ^
    341|   if (a.start_column !== b.start_column) return a.start_column - b.sta…
    342|   if (a.end_line !== b.end_line) return a.end_line - b.end_line;
 ❯ src/index_single_file/scopes/scope_processor.ts:160:5
 ❯ process_scopes src/index_single_file/scopes/scope_processor.ts:159:41
 ❯ src/index_single_file/scopes/scope_processor.test.ts:140:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[146/221]⎯

 FAIL  src/index_single_file/scopes/scope_processor.test.ts > scope_processor > process_scopes > should handle multiple sibling scopes
TypeError: Cannot read properties of undefined (reading 'start_line')
 ❯ compare_locations src/index_single_file/scopes/scope_processor.ts:340:9
    338|  */
    339| function compare_locations(a: Location, b: Location): number {
    340|   if (a.start_line !== b.start_line) return a.start_line - b.start_lin…
       |         ^
    341|   if (a.start_column !== b.start_column) return a.start_column - b.sta…
    342|   if (a.end_line !== b.end_line) return a.end_line - b.end_line;
 ❯ src/index_single_file/scopes/scope_processor.ts:160:5
 ❯ process_scopes src/index_single_file/scopes/scope_processor.ts:159:41
 ❯ src/index_single_file/scopes/scope_processor.test.ts:211:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[147/221]⎯

 FAIL  src/index_single_file/scopes/scope_processor.test.ts > scope_processor > process_scopes > should handle closures (functions within functions)
TypeError: Cannot read properties of undefined (reading 'start_line')
 ❯ compare_locations src/index_single_file/scopes/scope_processor.ts:340:9
    338|  */
    339| function compare_locations(a: Location, b: Location): number {
    340|   if (a.start_line !== b.start_line) return a.start_line - b.start_lin…
       |         ^
    341|   if (a.start_column !== b.start_column) return a.start_column - b.sta…
    342|   if (a.end_line !== b.end_line) return a.end_line - b.end_line;
 ❯ src/index_single_file/scopes/scope_processor.ts:160:5
 ❯ process_scopes src/index_single_file/scopes/scope_processor.ts:159:41
 ❯ src/index_single_file/scopes/scope_processor.test.ts:260:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[148/221]⎯

 FAIL  src/index_single_file/scopes/scope_processor.test.ts > scope_processor > process_scopes > should handle interface and enum scopes
TypeError: Cannot read properties of undefined (reading 'start_line')
 ❯ compare_locations src/index_single_file/scopes/scope_processor.ts:340:9
    338|  */
    339| function compare_locations(a: Location, b: Location): number {
    340|   if (a.start_line !== b.start_line) return a.start_line - b.start_lin…
       |         ^
    341|   if (a.start_column !== b.start_column) return a.start_column - b.sta…
    342|   if (a.end_line !== b.end_line) return a.end_line - b.end_line;
 ❯ src/index_single_file/scopes/scope_processor.ts:160:5
 ❯ process_scopes src/index_single_file/scopes/scope_processor.ts:159:41
 ❯ src/index_single_file/scopes/scope_processor.test.ts:305:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[149/221]⎯

 FAIL  src/index_single_file/scopes/scope_processor.test.ts > scope_processor > scope types > should handle all scope entity types correctly
TypeError: Cannot read properties of undefined (reading 'file_path')
 ❯ scope_string ../types/src/scopes.ts:109:20
 ❯ create_scope_id src/index_single_file/scopes/scope_processor.ts:309:10
    307|  */
    308| function create_scope_id(type: ScopeType, location: Location): ScopeId…
    309|   return scope_string({ type, location });
       |          ^
    310| }
    311| 
 ❯ process_scopes src/index_single_file/scopes/scope_processor.ts:173:22
 ❯ src/index_single_file/scopes/scope_processor.test.ts:606:24
 ❯ src/index_single_file/scopes/scope_processor.test.ts:590:18

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[150/221]⎯

 FAIL  src/resolve_references/function_resolution/function_resolution.updated_example.test.ts > Function Resolution with Mock Factories > Using Individual Mock Factories > should resolve simple function call
TypeError: (0 , mock_import_resolution_map) is not a function
 ❯ src/resolve_references/function_resolution/function_resolution.updated_example.test.ts:86:26
     84| 
     85|       // Create import resolution map using factory
     86|       const import_map = mock_import_resolution_map();
       |                          ^
     87| 
     88|       // Test the function resolution

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[151/221]⎯

 FAIL  src/resolve_references/function_resolution/function_resolution.updated_example.test.ts > Function Resolution with Mock Factories > Using Pre-built Scenarios > should resolve function call using scenario factory
TypeError: (0 , mock_import_resolution_map) is not a function
 ❯ src/resolve_references/function_resolution/function_resolution.updated_example.test.ts:114:26
    112|       };
    113| 
    114|       const import_map = mock_import_resolution_map();
       |                          ^
    115| 
    116|       // Test function resolution

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[152/221]⎯

 FAIL  src/resolve_references/function_resolution/function_resolution.updated_example.test.ts > Function Resolution with Mock Factories > Built-in Function Resolution > should handle built-in functions with mock factories
TypeError: (0 , mock_import_resolution_map) is not a function
 ❯ src/resolve_references/function_resolution/function_resolution.updated_example.test.ts:194:26
    192|       });
    193| 
    194|       const import_map = mock_import_resolution_map();
       |                          ^
    195| 
    196|       const result = resolve_function_calls(

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[153/221]⎯

 FAIL  src/resolve_references/function_resolution/scope_resolution.test.ts > Hoisting Handler > find_hoisted_symbol_in_scope > should find hoisted var declarations
AssertionError: expected null to be 'var1' // Object.is equality

[32m- Expected:[39m 
"var1"

[31m+ Received:[39m 
null

 ❯ src/resolve_references/function_resolution/scope_resolution.test.ts:882:22
    880|       );
    881| 
    882|       expect(result).toBe("var1");
       |                      ^
    883|     });
    884| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[154/221]⎯

 FAIL  src/resolve_references/integration_tests/cross_language.test.ts > Cross-Language Symbol Resolution > JavaScript/TypeScript mixed projects > should handle JavaScript and TypeScript interoperability
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/cross_language.test.ts:441:32

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[155/221]⎯

 FAIL  src/resolve_references/integration_tests/cross_language.test.ts > Cross-Language Symbol Resolution > JavaScript/TypeScript mixed projects > should handle CommonJS and ES6 module patterns
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/cross_language.test.ts:497:32

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[156/221]⎯

 FAIL  src/resolve_references/integration_tests/cross_language.test.ts > Cross-Language Symbol Resolution > Language-specific features > should support all language features independently
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/cross_language.test.ts:517:34

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[157/221]⎯

 FAIL  src/resolve_references/integration_tests/cross_language.test.ts > Cross-Language Symbol Resolution > Language-specific features > should handle JavaScript-specific patterns
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/cross_language.test.ts:561:32

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[158/221]⎯

 FAIL  src/resolve_references/integration_tests/cross_language.test.ts > Cross-Language Symbol Resolution > Language-specific features > should handle TypeScript-specific patterns
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/cross_language.test.ts:702:32

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[159/221]⎯

 FAIL  src/resolve_references/integration_tests/cross_language.test.ts > Cross-Language Symbol Resolution > Language-specific features > should handle Python-specific patterns
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/cross_language.test.ts:733:32

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[160/221]⎯

 FAIL  src/resolve_references/integration_tests/cross_language.test.ts > Cross-Language Symbol Resolution > Language-specific features > should handle Rust-specific patterns
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/cross_language.test.ts:757:32

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[161/221]⎯

 FAIL  src/resolve_references/integration_tests/cross_language.test.ts > Cross-Language Symbol Resolution > Cross-language import resolution > should resolve imports with language-specific path patterns
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/cross_language.test.ts:807:32

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[162/221]⎯

 FAIL  src/resolve_references/integration_tests/end_to_end.test.ts > Complete Symbol Resolution Pipeline > Cross-file function call resolution > should resolve function calls through imports correctly
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/end_to_end.test.ts:254:32

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[163/221]⎯

 FAIL  src/resolve_references/integration_tests/end_to_end.test.ts > Complete Symbol Resolution Pipeline > Method resolution through inheritance > should resolve inherited method calls correctly
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/end_to_end.test.ts:413:32

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[164/221]⎯

 FAIL  src/resolve_references/integration_tests/end_to_end.test.ts > Complete Symbol Resolution Pipeline > Constructor call resolution > should resolve constructor calls with proper type context
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/end_to_end.test.ts:512:32

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[165/221]⎯

 FAIL  src/resolve_references/integration_tests/end_to_end.test.ts > Complete Symbol Resolution Pipeline > Complete pipeline integration > should handle complex multi-file projects with all resolution types
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/end_to_end.test.ts:728:32

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[166/221]⎯

 FAIL  src/resolve_references/integration_tests/end_to_end.test.ts > Complete Symbol Resolution Pipeline > Error handling and edge cases > should handle missing imports gracefully
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/end_to_end.test.ts:789:32

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[167/221]⎯

 FAIL  src/resolve_references/integration_tests/end_to_end.test.ts > Complete Symbol Resolution Pipeline > Error handling and edge cases > should handle circular imports
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/end_to_end.test.ts:886:32

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[168/221]⎯

 FAIL  src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts > Symbol Resolution Fixes - Integration Tests > Import Resolution Fixes > handles imports with proper source field structure
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts:63:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[169/221]⎯

 FAIL  src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts > Symbol Resolution Fixes - Integration Tests > Import Resolution Fixes > handles missing import sources gracefully
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts:106:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[170/221]⎯

 FAIL  src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts > Symbol Resolution Fixes - Integration Tests > Import Resolution Fixes > resolves cross-language imports correctly
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts:139:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[171/221]⎯

 FAIL  src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts > Symbol Resolution Fixes - Integration Tests > Export Structure Fixes > handles named exports with proper structure
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts:186:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[172/221]⎯

 FAIL  src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts > Symbol Resolution Fixes - Integration Tests > Export Structure Fixes > handles default exports correctly
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts:207:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[173/221]⎯

 FAIL  src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts > Symbol Resolution Fixes - Integration Tests > Type Resolution Fixes > handles return type hints correctly
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts:231:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[174/221]⎯

 FAIL  src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts > Symbol Resolution Fixes - Integration Tests > Type Resolution Fixes > handles class inheritance correctly
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts:268:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[175/221]⎯

 FAIL  src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts > Symbol Resolution Fixes - Integration Tests > Performance and Stability > handles moderate-sized projects efficiently
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts:290:15
 ❯ time_execution src/resolve_references/test_utilities.ts:772:18
 ❯ src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts:289:65

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[176/221]⎯

 FAIL  src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts > Symbol Resolution Fixes - Integration Tests > Performance and Stability > handles error conditions gracefully
AssertionError: expected [Function] to not throw an error but 'TypeError: idx.functions is not itera…' was thrown

[32m- Expected:[39m 
undefined

[31m+ Received:[39m 
"TypeError: idx.functions is not iterable"

 ❯ src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts:337:14
    335|         const result = resolve_symbols({ indices });
    336|         expect(result).toBeDefined();
    337|       }).not.toThrow();
       |              ^
    338|     });
    339| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[177/221]⎯

 FAIL  src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts > Symbol Resolution Fixes - Integration Tests > Performance and Stability > maintains consistency across multiple runs
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts:344:23

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[178/221]⎯

 FAIL  src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts > Symbol Resolution Fixes - Integration Tests > Integration Validation > validates all four phases work together
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts:368:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[179/221]⎯

 FAIL  src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts > Symbol Resolution Fixes - Integration Tests > Integration Validation > handles real-world scenarios
TypeError: idx.functions is not iterable
 ❯ combine_results src/resolve_references/symbol_resolution.ts:181:34
    179|   for (const idx of indices.values()) {
    180|     // Collect all definition types from AnyDefinition union
    181|     for (const [id, func] of idx.functions) {
       |                                  ^
    182|       callable_definitions.set(id, func);
    183|     }
 ❯ resolve_symbols src/resolve_references/symbol_resolution.ts:135:10
 ❯ src/resolve_references/integration_tests/symbol_resolution_fixes.test.ts:435:22

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[180/221]⎯

 FAIL  src/resolve_references/method_resolution_simple/heuristic_resolver_simple.test.ts > Heuristic Method Resolution (Simple) > should resolve unique method names directly
AssertionError: expected undefined to be 'method::::::getName' // Object.is equality

[32m- Expected:[39m 
"method::::::getName"

[31m+ Received:[39m 
undefined

 ❯ src/resolve_references/method_resolution_simple/heuristic_resolver_simple.test.ts:95:31
     93| 
     94|     expect(result).toBeTruthy();
     95|     expect(result?.method_id).toBe(get_name_method);
       |                               ^
     96|     expect(result?.class_id).toBe(user_class);
     97|     expect(result?.strategy).toBe(ResolutionStrategy.UNIQUE_METHOD);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[181/221]⎯

 FAIL  src/resolve_references/method_resolution_simple/heuristic_resolver_simple.test.ts > Heuristic Method Resolution (Simple) > should return null when multiple methods exist without disambiguation
AssertionError: expected null to be truthy

[32m- Expected:[39m 
true

[31m+ Received:[39m 
null

 ❯ src/resolve_references/method_resolution_simple/heuristic_resolver_simple.test.ts:195:20
    193|     // Since both are in the same file, it will return one of them
    194|     // (in practice, this would need more context to disambiguate)
    195|     expect(result).toBeTruthy();
       |                    ^
    196|     expect([get_name_method, admin_get_name]).toContain(result?.method…
    197|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[182/221]⎯

 FAIL  src/resolve_references/method_resolution_simple/heuristic_with_types.test.ts > Heuristic Resolution with Local Type Context > should resolve method using constructor type hint
AssertionError: expected null to be truthy

[32m- Expected:[39m 
true

[31m+ Received:[39m 
null

 ❯ src/resolve_references/method_resolution_simple/heuristic_with_types.test.ts:139:20
    137| 
    138|     // Should resolve to User.getName, not Admin.getName
    139|     expect(result).toBeTruthy();
       |                    ^
    140|     expect(result?.method_id).toBe(user_get_name);
    141|     expect(result?.class_id).toBe(user_class);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[183/221]⎯

 FAIL  src/resolve_references/method_resolution_simple/heuristic_with_types.test.ts > Heuristic Resolution with Local Type Context > should resolve method without type hints using file proximity
AssertionError: expected undefined to be 'method::::::getName' // Object.is equality

[32m- Expected:[39m 
"method::::::getName"

[31m+ Received:[39m 
undefined

 ❯ src/resolve_references/method_resolution_simple/heuristic_with_types.test.ts:207:31
    205|     // Should resolve using unique method strategy
    206|     expect(result).toBeTruthy();
    207|     expect(result?.method_id).toBe(user_get_name);
       |                               ^
    208|     expect(result?.strategy).toBe("unique_method");
    209|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[184/221]⎯

 FAIL  src/resolve_references/method_resolution_simple/heuristic_with_types.test.ts > Heuristic Resolution with Local Type Context > should prioritize type hints over other strategies
AssertionError: expected undefined to be 'method::::::getName' // Object.is equality

[32m- Expected:[39m 
"method::::::getName"

[31m+ Received:[39m 
undefined

 ❯ src/resolve_references/method_resolution_simple/heuristic_with_types.test.ts:303:31
    301|     // Should resolve using type hint even though class is in differen…
    302|     expect(result).toBeTruthy();
    303|     expect(result?.method_id).toBe(user_get_name);
       |                               ^
    304|     expect(result?.class_id).toBe(user_class);
    305|     expect(result?.strategy).toBe("explicit_type");

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[185/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/python_builder.test.ts > Python Builder Configuration > PYTHON_BUILDER_CONFIG > should contain class definition capture mappings
AssertionError: expected false to be true // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

 ❯ src/index_single_file/query_code_tree/language_configs/python_builder.test.ts:78:52
     76| 
     77|       for (const mapping of classMappings) {
     78|         expect(PYTHON_BUILDER_CONFIG.has(mapping)).toBe(true);
       |                                                    ^
     79|         const config = PYTHON_BUILDER_CONFIG.get(mapping);
     80|         expect(config).toBeDefined();

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[186/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/python_builder.test.ts > Python Builder Configuration > PYTHON_BUILDER_CONFIG > should contain method definition capture mappings
AssertionError: expected false to be true // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

 ❯ src/index_single_file/query_code_tree/language_configs/python_builder.test.ts:94:52
     92| 
     93|       for (const mapping of methodMappings) {
     94|         expect(PYTHON_BUILDER_CONFIG.has(mapping)).toBe(true);
       |                                                    ^
     95|         const config = PYTHON_BUILDER_CONFIG.get(mapping);
     96|         expect(config).toBeDefined();

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[187/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/python_builder.test.ts > Python Builder Configuration > PYTHON_BUILDER_CONFIG > should contain function definition capture mappings
AssertionError: expected false to be true // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

 ❯ src/index_single_file/query_code_tree/language_configs/python_builder.test.ts:109:52
    107| 
    108|       for (const mapping of functionMappings) {
    109|         expect(PYTHON_BUILDER_CONFIG.has(mapping)).toBe(true);
       |                                                    ^
    110|         const config = PYTHON_BUILDER_CONFIG.get(mapping);
    111|         expect(config).toBeDefined();

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[188/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/python_builder.test.ts > Python Builder Configuration > PYTHON_BUILDER_CONFIG > should contain parameter definition capture mappings
AssertionError: expected false to be true // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

 ❯ src/index_single_file/query_code_tree/language_configs/python_builder.test.ts:127:52
    125| 
    126|       for (const mapping of paramMappings) {
    127|         expect(PYTHON_BUILDER_CONFIG.has(mapping)).toBe(true);
       |                                                    ^
    128|         const config = PYTHON_BUILDER_CONFIG.get(mapping);
    129|         expect(config).toBeDefined();

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[189/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/python_builder.test.ts > Python Builder Configuration > PYTHON_BUILDER_CONFIG > should contain variable definition capture mappings
AssertionError: expected false to be true // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

 ❯ src/index_single_file/query_code_tree/language_configs/python_builder.test.ts:149:52
    147| 
    148|       for (const mapping of variableMappings) {
    149|         expect(PYTHON_BUILDER_CONFIG.has(mapping)).toBe(true);
       |                                                    ^
    150|         const config = PYTHON_BUILDER_CONFIG.get(mapping);
    151|         expect(config).toBeDefined();

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[190/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/python_builder.test.ts > Python Builder Configuration > PYTHON_BUILDER_CONFIG > should contain property definition capture mappings
AssertionError: expected false to be true // Object.is equality

[32m- Expected[39m
[31m+ Received[39m

[32m- true[39m
[31m+ false[39m

 ❯ src/index_single_file/query_code_tree/language_configs/python_builder.test.ts:160:52
    158| 
    159|       for (const mapping of propertyMappings) {
    160|         expect(PYTHON_BUILDER_CONFIG.has(mapping)).toBe(true);
       |                                                    ^
    161|         const config = PYTHON_BUILDER_CONFIG.get(mapping);
    162|         expect(config).toBeDefined();

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[191/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/python_builder.test.ts > Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle import statements
AssertionError: expected [Function] to not throw an error but 'TypeError: Cannot read properties of …' was thrown

[32m- Expected:[39m 
undefined

[31m+ Received:[39m 
"TypeError: Cannot read properties of undefined (reading 'file_path')"

 ❯ src/index_single_file/query_code_tree/language_configs/python_builder.test.ts:242:14
    240|       expect(() => {
    241|         config?.process(capture, builder, createTestContext());
    242|       }).not.toThrow();
       |              ^
    243|     });
    244| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[192/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/python_builder.test.ts > Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle from imports
AssertionError: expected [Function] to not throw an error but 'TypeError: Cannot read properties of …' was thrown

[32m- Expected:[39m 
undefined

[31m+ Received:[39m 
"TypeError: Cannot read properties of undefined (reading 'file_path')"

 ❯ src/index_single_file/query_code_tree/language_configs/python_builder.test.ts:377:14
    375|       expect(() => {
    376|         config?.process(capture, builder, createTestContext());
    377|       }).not.toThrow();
       |              ^
    378|     });
    379| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[193/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/python_builder.test.ts > Python Builder Configuration > PYTHON_BUILDER_CONFIG > should handle aliased imports
AssertionError: expected [Function] to not throw an error but 'TypeError: Cannot read properties of …' was thrown

[32m- Expected:[39m 
undefined

[31m+ Received:[39m 
"TypeError: Cannot read properties of undefined (reading 'file_path')"

 ❯ src/index_single_file/query_code_tree/language_configs/python_builder.test.ts:392:14
    390|       expect(() => {
    391|         config?.process(capture, builder, createTestContext());
    392|       }).not.toThrow();
       |              ^
    393|     });
    394| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[194/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/python_builder.test.ts > Python Builder Configuration > PYTHON_BUILDER_CONFIG > End-to-end integration tests > should build complete class definition with methods
TypeError: actual value must be number or bigint, received "undefined"
 ❯ src/index_single_file/query_code_tree/language_configs/python_builder.test.ts:438:36
    436| 
    437|         const definitions = builder.build();
    438|         expect(definitions.length).toBeGreaterThan(0);
       |                                    ^
    439| 
    440|         const classDef = definitions.find((d) => d.kind === "class");

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[195/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/python_builder.test.ts > Python Builder Configuration > PYTHON_BUILDER_CONFIG > End-to-end integration tests > should handle function with typed parameters
TypeError: actual value must be number or bigint, received "undefined"
 ❯ src/index_single_file/query_code_tree/language_configs/python_builder.test.ts:470:36
    468| 
    469|         const definitions = builder.build();
    470|         expect(definitions.length).toBeGreaterThan(0);
       |                                    ^
    471| 
    472|         const funcDef = definitions.find((d) => d.kind === "function");

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[196/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/python_builder.test.ts > Python Builder Configuration > PYTHON_BUILDER_CONFIG > End-to-end integration tests > should distinguish between constants and variables by naming convention
TypeError: defs1.find is not a function
 ❯ src/index_single_file/query_code_tree/language_configs/python_builder.test.ts:500:32
    498|         }
    499|         const defs1 = builder1.build();
    500|         const constDef = defs1.find((d) => d.name === "MAX_SIZE");
       |                                ^
    501|         expect(constDef?.kind).toBe("constant");
    502| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[197/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/python_builder.test.ts > Python Builder Configuration > PYTHON_BUILDER_CONFIG > End-to-end integration tests > should handle complex import patterns
TypeError: Cannot read properties of undefined (reading 'file_path')
 ❯ symbol_string ../types/src/symbol.ts:59:21
 ❯ variable_symbol ../types/src/symbol.ts:93:10
 ❯ create_variable_id src/index_single_file/query_code_tree/language_configs/python_builder.ts:68:10
     66|   const name = capture.text;
     67|   const location = capture.location;
     68|   return variable_symbol(name, location);
       |          ^
     69| }
     70| 
 ❯ Object.process src/index_single_file/query_code_tree/language_configs/python_builder.ts:1080:27
 ❯ src/index_single_file/query_code_tree/language_configs/python_builder.test.ts:556:56

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[198/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/python_builder.test.ts > Python Builder Configuration > PYTHON_BUILDER_CONFIG > End-to-end integration tests > should handle private methods by naming convention
TypeError: definitions.find is not a function
 ❯ src/index_single_file/query_code_tree/language_configs/python_builder.test.ts:627:38
    625| 
    626|         const definitions = builder.build();
    627|         const classDef = definitions.find((d) => d.kind === "class") a…
       |                                      ^
    628| 
    629|         // Verify that both methods exist

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[199/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > struct definitions > should process generic struct
AssertionError: expected undefined to deeply equal [ 'T', 'U' ]

[32m- Expected:[39m 
[
  "T",
  "U",
]

[31m+ Received:[39m 
undefined

 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:142:47
    140|       expect(definitions.classes).toHaveLength(1);
    141|       expect(definitions.classes[0].name).toBe("Container");
    142|       expect(definitions.classes[0].generics).toEqual(["T", "U"]);
       |                                               ^
    143|       expect(definitions.classes[0].availability.scope).toBe("file-pri…
    144|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[200/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > struct definitions > should handle pub(crate) visibility
AssertionError: expected 'package-internal' to be 'package' // Object.is equality

Expected: [32m"package"[39m
Received: [31m"package[7m-internal[27m"[39m

 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:172:57
    170| 
    171|       expect(definitions.classes).toHaveLength(1);
    172|       expect(definitions.classes[0].availability.scope).toBe("package"…
       |                                                         ^
    173|     });
    174|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[201/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > enum definitions > should process simple enum
AssertionError: expected [ { …(3) }, { …(3) }, { …(3) } ] to deeply equal [ 'Success', 'Error', 'Pending' ]

[32m- Expected[39m
[31m+ Received[39m

[2m  [[22m
[32m-   "Success",[39m
[32m-   "Error",[39m
[32m-   "Pending",[39m
[31m+   {[39m
[31m+     "location": {[39m
[31m+       "end_column": 15,[39m
[31m+       "end_line": 1,[39m
[31m+       "file_path": "test.rs",[39m
[31m+       "start_column": 9,[39m
[31m+       "start_line": 1,[39m
[31m+     },[39m
[31m+     "name": "enum_member:test.rs:1:9:1:15:Success",[39m
[31m+     "value": undefined,[39m
[31m+   },[39m
[31m+   {[39m
[31m+     "location": {[39m
[31m+       "end_column": 15,[39m
[31m+       "end_line": 1,[39m
[31m+       "file_path": "test.rs",[39m
[31m+       "start_column": 9,[39m
[31m+       "start_line": 1,[39m
[31m+     },[39m
[31m+     "name": "enum_member:test.rs:1:9:1:15:Error",[39m
[31m+     "value": undefined,[39m
[31m+   },[39m
[31m+   {[39m
[31m+     "location": {[39m
[31m+       "end_column": 15,[39m
[31m+       "end_line": 1,[39m
[31m+       "file_path": "test.rs",[39m
[31m+       "start_column": 9,[39m
[31m+       "start_line": 1,[39m
[31m+     },[39m
[31m+     "name": "enum_member:test.rs:1:9:1:15:Pending",[39m
[31m+     "value": undefined,[39m
[31m+   },[39m
[2m  ][22m

 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:193:44
    191|       expect(definitions.enums).toHaveLength(1);
    192|       expect(definitions.enums[0].name).toBe("Status");
    193|       expect(definitions.enums[0].members).toEqual([
       |                                            ^
    194|         "Success",
    195|         "Error",

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[202/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > enum definitions > should process generic enum
AssertionError: expected undefined to deeply equal [ 'T', 'E' ]

[32m- Expected:[39m 
[
  "T",
  "E",
]

[31m+ Received:[39m 
undefined

 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:216:45
    214|       expect(definitions.enums).toHaveLength(1);
    215|       expect(definitions.enums[0].name).toBe("Result");
    216|       expect(definitions.enums[0].generics).toEqual(["T", "E"]);
       |                                             ^
    217|       expect(definitions.enums[0].members).toEqual(["Ok", "Err"]);
    218|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[203/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > enum definitions > should process enum with complex variants
AssertionError: expected [ { …(3) }, { …(3) }, { …(3) } ] to deeply equal [ 'Quit', 'Move', 'Write' ]

[32m- Expected[39m
[31m+ Received[39m

[2m  [[22m
[32m-   "Quit",[39m
[32m-   "Move",[39m
[32m-   "Write",[39m
[31m+   {[39m
[31m+     "location": {[39m
[31m+       "end_column": 12,[39m
[31m+       "end_line": 1,[39m
[31m+       "file_path": "test.rs",[39m
[31m+       "start_column": 5,[39m
[31m+       "start_line": 1,[39m
[31m+     },[39m
[31m+     "name": "enum_member:test.rs:1:5:1:12:Quit",[39m
[31m+     "value": undefined,[39m
[31m+   },[39m
[31m+   {[39m
[31m+     "location": {[39m
[31m+       "end_column": 12,[39m
[31m+       "end_line": 1,[39m
[31m+       "file_path": "test.rs",[39m
[31m+       "start_column": 5,[39m
[31m+       "start_line": 1,[39m
[31m+     },[39m
[31m+     "name": "enum_member:test.rs:1:5:1:12:Move",[39m
[31m+     "value": undefined,[39m
[31m+   },[39m
[31m+   {[39m
[31m+     "location": {[39m
[31m+       "end_column": 12,[39m
[31m+       "end_line": 1,[39m
[31m+       "file_path": "test.rs",[39m
[31m+       "start_column": 5,[39m
[31m+       "start_line": 1,[39m
[31m+     },[39m
[31m+     "name": "enum_member:test.rs:1:5:1:12:Write",[39m
[31m+     "value": undefined,[39m
[31m+   },[39m
[2m  ][22m

 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:235:44
    233| 
    234|       expect(definitions.enums).toHaveLength(1);
    235|       expect(definitions.enums[0].members).toEqual(["Quit", "Move", "W…
       |                                            ^
    236|     });
    237|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[204/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > trait definitions > should process generic trait
AssertionError: expected undefined to deeply equal [ 'Item' ]

[32m- Expected:[39m 
[
  "Item",
]

[31m+ Received:[39m 
undefined

 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:272:50
    270|       expect(definitions.interfaces).toHaveLength(1);
    271|       expect(definitions.interfaces[0].name).toBe("Iterator");
    272|       expect(definitions.interfaces[0].generics).toEqual(["Item"]);
       |                                                  ^
    273|     });
    274|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[205/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > function definitions > should process simple function
AssertionError: expected undefined to be 'i32' // Object.is equality

[32m- Expected:[39m 
"i32"

[31m+ Received:[39m 
undefined

 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:291:52
    289|       expect(definitions.functions).toHaveLength(1);
    290|       expect(definitions.functions[0].name).toBe("calculate");
    291|       expect(definitions.functions[0].return_type).toBe("i32");
       |                                                    ^
    292|       expect(definitions.functions[0].availability.scope).toBe("public…
    293|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[206/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > function definitions > should process async function
AssertionError: expected undefined to be true // Object.is equality

[32m- Expected:[39m 
true

[31m+ Received:[39m 
undefined

 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:309:46
    307|       expect(definitions.functions).toHaveLength(1);
    308|       expect(definitions.functions[0].name).toBe("fetch_data");
    309|       expect(definitions.functions[0].async).toBe(true);
       |                                              ^
    310|       expect(definitions.functions[0].return_type).toBe(
    311|         "Result<String, Error>"

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[207/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > function definitions > should process const function
AssertionError: expected undefined to be true // Object.is equality

[32m- Expected:[39m 
true

[31m+ Received:[39m 
undefined

 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:329:46
    327|       expect(definitions.functions).toHaveLength(1);
    328|       expect(definitions.functions[0].name).toBe("compute");
    329|       expect(definitions.functions[0].const).toBe(true);
       |                                              ^
    330|       expect(definitions.functions[0].return_type).toBe("usize");
    331|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[208/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > function definitions > should process unsafe function
AssertionError: expected undefined to be true // Object.is equality

[32m- Expected:[39m 
true

[31m+ Received:[39m 
undefined

 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:347:47
    345|       expect(definitions.functions).toHaveLength(1);
    346|       expect(definitions.functions[0].name).toBe("raw_access");
    347|       expect(definitions.functions[0].unsafe).toBe(true);
       |                                               ^
    348|     });
    349| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[209/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > function definitions > should process generic function
AssertionError: expected undefined to deeply equal [ 'T' ]

[32m- Expected:[39m 
[
  "T",
]

[31m+ Received:[39m 
undefined

 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:364:49
    362|       expect(definitions.functions).toHaveLength(1);
    363|       expect(definitions.functions[0].name).toBe("compare");
    364|       expect(definitions.functions[0].generics).toEqual(["T"]);
       |                                                 ^
    365|     });
    366|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[210/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > variable and constant definitions > should process const definition
AssertionError: expected undefined to be true // Object.is equality

[32m- Expected:[39m 
true

[31m+ Received:[39m 
undefined

 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:501:49
    499|       expect(definitions.variables[0].name).toBe("MAX_SIZE");
    500|       expect(definitions.variables[0].type).toBe("usize");
    501|       expect(definitions.variables[0].readonly).toBe(true);
       |                                                 ^
    502|       expect(definitions.variables[0].availability.scope).toBe("public…
    503|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[211/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > variable and constant definitions > should process static variable
AssertionError: expected undefined to be true // Object.is equality

[32m- Expected:[39m 
true

[31m+ Received:[39m 
undefined

 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:517:47
    515|       expect(definitions.variables).toHaveLength(1);
    516|       expect(definitions.variables[0].name).toBe("COUNTER");
    517|       expect(definitions.variables[0].static).toBe(true);
       |                                               ^
    518|     });
    519|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[212/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > parameter definitions > should process function parameter
AssertionError: Target cannot be null or undefined.
 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:532:38
    530|       );
    531| 
    532|       expect(definitions.parameters).toHaveLength(1);
       |                                      ^
    533|       expect(definitions.parameters[0].name).toBe("data");
    534|       expect(definitions.parameters[0].type).toBe("&str");

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[213/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > parameter definitions > should process mutable parameter
AssertionError: Target cannot be null or undefined.
 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:547:38
    545|       );
    546| 
    547|       expect(definitions.parameters).toHaveLength(1);
       |                                      ^
    548|       expect(definitions.parameters[0].name).toBe("value");
    549|       // Mutable detection would require checking parent node

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[214/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > type definitions > should process type alias
AssertionError: expected undefined to deeply equal [ 'T' ]

[32m- Expected:[39m 
[
  "T",
]

[31m+ Received:[39m 
undefined

 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:604:45
    602|       expect(definitions.types).toHaveLength(1);
    603|       expect(definitions.types[0].name).toBe("Result");
    604|       expect(definitions.types[0].generics).toEqual(["T"]);
       |                                             ^
    605|       expect(definitions.types[0].availability.scope).toBe("public");
    606|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[215/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > visibility extraction > should detect pub(crate) visibility
AssertionError: expected 'package-internal' to be 'package' // Object.is equality

Expected: [32m"package"[39m
Received: [31m"package[7m-internal[27m"[39m

 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:646:57
    644|         "CrateStruct"
    645|       );
    646|       expect(definitions.classes[0].availability.scope).toBe("package"…
       |                                                         ^
    647|     });
    648| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[216/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > visibility extraction > should detect pub(super) visibility
AssertionError: expected 'file-private' to be 'parent-module' // Object.is equality

Expected: [32m"[7mparent-modul[27me"[39m
Received: [31m"[7mfile-privat[27me"[39m

 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:657:55
    655|         "SuperEnum"
    656|       );
    657|       expect(definitions.enums[0].availability.scope).toBe("parent-mod…
       |                                                       ^
    658|     });
    659| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[217/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > macro definitions > should process macro definition
AssertionError: expected undefined to be true // Object.is equality

[32m- Expected:[39m 
true

[31m+ Received:[39m 
undefined

 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:689:46
    687|       expect(definitions.functions).toHaveLength(1);
    688|       expect(definitions.functions[0].name).toBe("debug_log");
    689|       expect(definitions.functions[0].macro).toBe(true);
       |                                              ^
    690|     });
    691|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[218/221]⎯

 FAIL  src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts > rust_builder > integration tests > should handle complex struct with multiple features
AssertionError: the given combination of arguments (undefined and string) is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a string
 ❯ src/index_single_file/query_code_tree/language_configs/rust_builder.test.ts:781:49
    779|         expect(definitions.classes).toHaveLength(1);
    780|         expect(definitions.classes[0].name).toBe("Database");
    781|         expect(definitions.classes[0].generics).toContain("T");
       |                                                 ^
    782|       }
    783|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[219/221]⎯


 Test Files  21 failed | 27 passed | 2 skipped (50)
      Tests  215 failed | 873 passed | 118 skipped (1206)
   Start at  14:07:46
   Duration  10.15s (transform 1.27s, setup 38ms, collect 1.61s, tests 7.60s, environment 0ms, prepare 229ms)

npm error Lifecycle script `test` failed with error:
npm error code 1
npm error path /Users/chuck/workspace/ariadne/packages/core
npm error workspace @ariadnejs/core@0.7.0
npm error location /Users/chuck/workspace/ariadne/packages/core
npm error command failed
npm error command sh -c vitest run


> @ariadnejs/mcp@0.1.5 test
> vitest run


 RUN  v3.2.4 /Users/chuck/workspace/ariadne/packages/mcp

 ❯ tests/server.test.ts (3 tests | 2 failed) 23ms
   × Ariadne MCP Server > Core functionality > should handle go_to_definition correctly 11ms
     → Project is not defined
   × Ariadne MCP Server > Core functionality > should handle find_references correctly 7ms
     → Project is not defined
   ✓ Ariadne MCP Server > Server binary > should be executable 3ms
 ❯ tests/get_symbol_context.test.ts (10 tests | 10 failed) 10ms
   × get_symbol_context > TypeScript symbol resolution > should find a function definition by name 5ms
     → Project is not defined
   × get_symbol_context > TypeScript symbol resolution > should find a class definition with methods 1ms
     → Project is not defined
   × get_symbol_context > TypeScript symbol resolution > should handle symbol not found with suggestions 0ms
     → Project is not defined
   × get_symbol_context > TypeScript symbol resolution > should track imports and cross-file references 0ms
     → Project is not defined
   × get_symbol_context > TypeScript symbol resolution > should include test references when requested 0ms
     → Project is not defined
   × get_symbol_context > TypeScript symbol resolution > should extract documentation from JSDoc comments 0ms
     → Project is not defined
   × get_symbol_context > TypeScript symbol resolution > should calculate basic metrics 0ms
     → Project is not defined
   × get_symbol_context > TypeScript symbol resolution > should extract class inheritance relationships 0ms
     → Project is not defined
   × get_symbol_context > TypeScript symbol resolution > should extract Rust trait implementations 0ms
     → Project is not defined
   × get_symbol_context > Performance > should respond within 200ms for typical queries 0ms
     → Project is not defined
 ❯ tests/find_references.test.ts (11 tests | 11 skipped) 6ms
   ↓ find_references > TypeScript references > should find function references across files
   ↓ find_references > TypeScript references > should include declaration when requested
   ↓ find_references > TypeScript references > should handle method references
   ↓ find_references > TypeScript references > should respect search scope
   ↓ find_references > JavaScript references > should find references in JavaScript files
   ↓ find_references > Python references > should find references in Python files
   ↓ find_references > Error handling > should return error for non-existent symbol
   ↓ find_references > Error handling > should handle symbols with no references
   ↓ find_references > Multiple definitions > should handle symbols with multiple definitions
   ↓ find_references > Edge cases > should handle references in string literals correctly
   ↓ find_references > Edge cases > should provide context for each reference
 ❯ tests/get_file_metadata.test.ts (12 tests | 12 skipped) 8ms
   ↓ get_file_metadata > TypeScript files > should extract function metadata correctly
   ↓ get_file_metadata > TypeScript files > should extract class and interface metadata
   ↓ get_file_metadata > TypeScript files > should extract import statements
   ↓ get_file_metadata > JavaScript files > should handle JavaScript functions and classes
   ↓ get_file_metadata > Python files > should handle Python functions and classes
   ↓ get_file_metadata > Rust files > should handle Rust functions and structs
   ↓ get_file_metadata > Error handling > should return error for non-existent file
   ↓ get_file_metadata > Error handling > should handle empty files
   ↓ get_file_metadata > Error handling > should handle files with only comments
   ↓ get_file_metadata > Path handling > should handle relative paths
   ↓ get_file_metadata > Path handling > should handle absolute paths
   ↓ get_file_metadata > Signature extraction > should extract clean signatures without braces
 ❯ tests/get_source_code.test.ts (13 tests | 13 skipped) 9ms
   ↓ get_source_code > TypeScript source extraction > should extract function source code
   ↓ get_source_code > TypeScript source extraction > should extract class source code
   ↓ get_source_code > TypeScript source extraction > should extract interface source code
   ↓ get_source_code > TypeScript source extraction > should extract type alias source code
   ↓ get_source_code > JavaScript source extraction > should extract JavaScript functions
   ↓ get_source_code > Python source extraction > should extract Python functions and classes
   ↓ get_source_code > Rust source extraction > should extract Rust functions and structs
   ↓ get_source_code > Error handling > should return error for non-existent symbol
   ↓ get_source_code > Error handling > should provide suggestions for similar symbols
   ↓ get_source_code > Docstring extraction > should extract JSDoc comments
   ↓ get_source_code > Docstring extraction > should handle includeDocstring flag
   ↓ get_source_code > Complex source extraction > should extract nested functions
   ↓ get_source_code > Complex source extraction > should handle multiline signatures

⎯⎯⎯⎯⎯⎯ Failed Suites 3 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  tests/find_references.test.ts > find_references
ReferenceError: Project is not defined
 ❯ tests/find_references.test.ts:12:5
     10| 
     11|   beforeAll(async () => {
     12|     project = new Project();
       |     ^
     13|     // Create a temporary test directory
     14|     testDir = path.join(os.tmpdir(), 'ariadne-find-refs-test-' + Date.…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/18]⎯

 FAIL  tests/find_references.test.ts > find_references
TypeError: The "path" argument must be of type string or an instance of Buffer or URL. Received undefined
 ❯ tests/find_references.test.ts:20:14
     18|   afterAll(async () => {
     19|     // Clean up test directory
     20|     await fs.rm(testDir, { recursive: true, force: true });
       |              ^
     21|   });
     22| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/18]⎯

 FAIL  tests/get_file_metadata.test.ts > get_file_metadata
ReferenceError: Project is not defined
 ❯ tests/get_file_metadata.test.ts:12:5
     10| 
     11|   beforeAll(async () => {
     12|     project = new Project();
       |     ^
     13|     // Create a temporary test directory
     14|     testDir = path.join(os.tmpdir(), 'ariadne-mcp-test-' + Date.now());

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/18]⎯

 FAIL  tests/get_file_metadata.test.ts > get_file_metadata
TypeError: The "path" argument must be of type string or an instance of Buffer or URL. Received undefined
 ❯ tests/get_file_metadata.test.ts:20:14
     18|   afterAll(async () => {
     19|     // Clean up test directory
     20|     await fs.rm(testDir, { recursive: true, force: true });
       |              ^
     21|   });
     22| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/18]⎯

 FAIL  tests/get_source_code.test.ts > get_source_code
ReferenceError: Project is not defined
 ❯ tests/get_source_code.test.ts:12:5
     10| 
     11|   beforeAll(async () => {
     12|     project = new Project();
       |     ^
     13|     // Create a temporary test directory
     14|     testDir = path.join(os.tmpdir(), 'ariadne-source-test-' + Date.now…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/18]⎯

 FAIL  tests/get_source_code.test.ts > get_source_code
TypeError: The "path" argument must be of type string or an instance of Buffer or URL. Received undefined
 ❯ tests/get_source_code.test.ts:20:14
     18|   afterAll(async () => {
     19|     // Clean up test directory
     20|     await fs.rm(testDir, { recursive: true, force: true });
       |              ^
     21|   });
     22| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/18]⎯


⎯⎯⎯⎯⎯⎯ Failed Tests 12 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  tests/get_symbol_context.test.ts > get_symbol_context > TypeScript symbol resolution > should find a function definition by name
 FAIL  tests/get_symbol_context.test.ts > get_symbol_context > TypeScript symbol resolution > should find a class definition with methods
 FAIL  tests/get_symbol_context.test.ts > get_symbol_context > TypeScript symbol resolution > should handle symbol not found with suggestions
 FAIL  tests/get_symbol_context.test.ts > get_symbol_context > TypeScript symbol resolution > should track imports and cross-file references
 FAIL  tests/get_symbol_context.test.ts > get_symbol_context > TypeScript symbol resolution > should include test references when requested
 FAIL  tests/get_symbol_context.test.ts > get_symbol_context > TypeScript symbol resolution > should extract documentation from JSDoc comments
 FAIL  tests/get_symbol_context.test.ts > get_symbol_context > TypeScript symbol resolution > should calculate basic metrics
 FAIL  tests/get_symbol_context.test.ts > get_symbol_context > TypeScript symbol resolution > should extract class inheritance relationships
 FAIL  tests/get_symbol_context.test.ts > get_symbol_context > TypeScript symbol resolution > should extract Rust trait implementations
 FAIL  tests/get_symbol_context.test.ts > get_symbol_context > Performance > should respond within 200ms for typical queries
ReferenceError: Project is not defined
 ❯ tests/get_symbol_context.test.ts:9:5
      7|   
      8|   beforeEach(() => {
      9|     project = new Project();
       |     ^
     10|   });
     11|   

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/18]⎯

 FAIL  tests/server.test.ts > Ariadne MCP Server > Core functionality > should handle go_to_definition correctly
ReferenceError: Project is not defined
 ❯ tests/server.test.ts:34:23
     32| 
     33|       // Use Ariadne directly to test the core functionality
     34|       const project = new Project();
       |                       ^
     35|       project.add_or_update_file(testFile, testContent);
     36|       

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[8/18]⎯

 FAIL  tests/server.test.ts > Ariadne MCP Server > Core functionality > should handle find_references correctly
ReferenceError: Project is not defined
 ❯ tests/server.test.ts:58:23
     56| 
     57|       // Use Ariadne directly to test the core functionality
     58|       const project = new Project();
       |                       ^
     59|       project.add_or_update_file(testFile, testContent);
     60|       

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[9/18]⎯


 Test Files  5 failed (5)
      Tests  12 failed | 1 passed | 36 skipped (49)
   Start at  14:07:57
   Duration  542ms (transform 297ms, setup 0ms, collect 650ms, tests 56ms, environment 1ms, prepare 496ms)

npm error Lifecycle script `test` failed with error:
npm error code 1
npm error path /Users/chuck/workspace/ariadne/packages/mcp
npm error workspace @ariadnejs/mcp@0.1.5
npm error location /Users/chuck/workspace/ariadne/packages/mcp
npm error command failed
npm error command sh -c vitest run


> @ariadnejs/types@0.5.15 test
> vitest run


 RUN  v3.2.4 /Users/chuck/workspace/ariadne/packages/types

 ✓ src/symbol.test.ts (4 tests) 3ms
 ✓ tests/types.test.ts (6 tests) 5ms

 Test Files  2 passed (2)
      Tests  10 passed (10)
   Start at  14:07:58
   Duration  502ms (transform 148ms, setup 0ms, collect 193ms, tests 8ms, environment 0ms, prepare 179ms)

